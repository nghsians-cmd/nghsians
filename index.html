<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>NGHSIANS — Nasirabad Government High School</title>
<meta name="description" content="Presented by NGHSIANS | নাসিরাবাদিয়ানস্" />
<link rel="icon" href="favLogo.ico">

<meta property="og:type" content="website" />
<meta property="og:title" content="NGHSIANS — Nasirabad Government High School" />
<meta property="og:description" content="Presented by NGHSIANS | নাসিরাবাদিয়ানস্" />
<meta property="og:image" content="https://nghsians.com/linkhero.jpg" />
<meta property="og:image:secure_url" content="https://nghsians.com/linkhero.jpg" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="1200" /> 
<meta property="og:image:height" content="630" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="NGHSIANS — Nasirabad Government High School" />
<meta name="twitter:description" content="Presented by NGHSIANS | নাসিরাবাদিয়ানস্" />
<meta name="twitter:image" content="https://nghsians.com/linkhero.jpg" />
<meta itemprop="image" content="https://nghsians.com/linkhero.jpg" />

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<script>
    (function(w,d,e,u,f,l,n){w[f]=w[f]||function(){(w[f].q=w[f].q||[])
    .push(arguments);},l=d.createElement(e),l.async=1,l.src=u,
    n=d.getElementsByTagName(e)[0],n.parentNode.insertBefore(l,n);})
    (window,document,'script','https://assets.mailerlite.com/js/universal.js','ml');
    ml('account', '1927434');
</script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">

<style>
  /* ===========================
     THEME VARIABLES — EDIT HERE
     =========================== */
  :root{
    --bg: #08090a;
    --panel: #0d0e10;
    --text: #eef0f2;
    --muted: #9aa0a6;
    --accent-deep: #710C04;    /* primary red */
    --accent-gold: 255,243,154; /* muted gold RGB for opacity usage */
    --gold-opacity: 0.7;       /* global gold opacity (70%) per latest request */
    --accent-muted: rgba(113,12,4,0.22); /* increased index button fill opacity only */
    --max-w: 1200px;
    --pad: 20px;
    --header-h: 86px;
    --font-sans: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;

    /* page-wipe timing */
    --wipe-duration: 1000ms;
    --wipe-ease: cubic-bezier(.22,.9,.2,1);
  }

  /* ===========================
     RESET + BASE
     =========================== */
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font-family:var(--font-sans);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
  img{max-width:100%;height:auto;display:block}
  a{color:inherit;text-decoration:none}
  button{font-family:inherit;cursor:pointer}

  /* ===========================
     Subtle grain texture (global)
     =========================== */
  body::before{
    content:"";
    position:fixed;
    inset:0;
    pointer-events:none;
    z-index:1; /* moved behind content so hero can mask it */
    background-image:
      url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120'><filter id='n'><feTurbulence baseFrequency='0.9' numOctaves='2' stitchTiles='stitch' seed='2'/><feColorMatrix type='saturate' values='0'/><feComponentTransfer><feFuncA type='table' tableValues='0 0.055'/></feComponentTransfer></filter><rect width='100%' height='100%' filter='url(%23n)' opacity='0.08' /></svg>");
    opacity:0.08;
    mix-blend-mode:overlay;
  }
  /* reapply grain on main content only (so hero appears clean) */
  .wrap::before, main > .wrap::before{
    content:"";
    position:absolute;
    inset:0;
    pointer-events:none;
    z-index:2;
    background-image:
      url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120'><filter id='n'><feTurbulence baseFrequency='0.9' numOctaves='2' stitchTiles='stitch' seed='2'/><feColorMatrix type='saturate' values='0'/><feComponentTransfer><feFuncA type='table' tableValues='0 0.055'/></feComponentTransfer></filter><rect width='100%' height='100%' filter='url(%23n)' opacity='0.08' /></svg>");
    opacity:0.08;
    mix-blend-mode:overlay;
    border-radius:0;
  }

  /* ===========================
     PAGE WIPE (cinematic dark wipe + logo pulse)
     =========================== */
  .page-wipe{
    position:fixed;inset:0;z-index:6000;display:flex;align-items:center;justify-content:center;
    pointer-events:none;opacity:0;transition:opacity 220ms linear;background:var(--bg);
  }
  .page-wipe.show{ opacity:1; pointer-events:auto }
  .page-wipe .pulse-wrap{
    width:160px; height:160px; display:flex; align-items:center; justify-content:center;
    transform:scale(.82); opacity:0; transition: transform var(--wipe-duration) var(--wipe-ease), opacity calc(var(--wipe-duration) * 0.6) var(--wipe-ease);
  }
  .page-wipe.show .pulse-wrap{ transform:scale(1); opacity:1 }
  .page-wipe .pulse-img{
    width:72px; height:72px; border-radius:50%; overflow:hidden; display:block; box-shadow:0 18px 60px rgba(0,0,0,0.6);
    background:transparent; /* transparent so logo.png shows */
  }
  .pulse-img img{ width:100%; height:100%; object-fit:contain; display:block }

  .page-wipe .wipe-layer{
    position:absolute;inset:0;background:linear-gradient(180deg, rgba(8,8,9,0.98), rgba(2,2,2,0.98));
    opacity:0; transition: opacity calc(var(--wipe-duration) * 0.9) var(--wipe-ease);
  }
  .page-wipe.show .wipe-layer{ opacity:1 }

  /* ===========================
     HEADER: center logo, nav left & right
     =========================== */
  header{ position:fixed; inset-inline:0; top:0; height:var(--header-h); display:flex; align-items:center; justify-content:center; padding:8px calc(var(--pad)+4px); z-index:1500; transition:background 160ms ease, box-shadow 160ms ease; background:transparent; }
  header.scrolled{ background: linear-gradient(180deg, rgba(8,8,9,0.92), rgba(6,6,7,0.95)); box-shadow: 0 10px 30px rgba(0,0,0,0.6) }

  /* Modified Header Grid for flexible Mobile/Desktop layouts */
  .header-grid{ width:100%; max-width:var(--max-w); margin:0 auto; display:grid; grid-template-columns: 1fr auto 1fr; align-items:center; gap:12px; }
  
  .nav-left, .nav-right{ display:flex; gap:18px; align-items:center; }
  .nav-left{ justify-content:flex-start } 
  .nav-right{ justify-content:flex-end }
  
  /* Container for Right Side Elements (Nav + User) */
  .right-group { display: flex; align-items: center; justify-content: flex-end; gap: 18px; }

  .nav-link{ position:relative; color:var(--text); font-weight:600; font-size:14px; padding:6px 6px; white-space:nowrap; transition: color 140ms }
  .nav-link::after{ content:""; position:absolute; left:6px; right:6px; bottom:-6px; height:2px; background:var(--accent-deep); transform:scaleX(0); transform-origin:left center; transition:transform 140ms cubic-bezier(.2,.9,.2,1); opacity:.95 }
  .nav-link:hover::after, .nav-link.active::after{ transform:scaleX(1) }

  .brand-center{ display:flex; flex-direction:column; align-items:center; gap:6px; cursor:pointer; }
  .brand-logo{ width:64px; height:64px; border-radius:50%; overflow:hidden; display:inline-flex; align-items:center; justify-content:center; box-shadow:0 10px 30px rgba(0,0,0,0.6); background:transparent }
  .brand-logo img{ width:100%; height:100%; object-fit:contain; display:block }
  .brand-title{ font-weight:800; font-size:14px; letter-spacing:0.6px; color:var(--text); margin-top:4px }

  /* Hamburger icon */
  .menu-toggle {
    display: none; /* Default hidden */
    background: transparent;
    border: none;
    color: var(--text);
    font-size: 24px;
    cursor: pointer;
    padding: 8px;
    z-index: 10;
  }
  .menu-toggle svg {
    display: block;
    width: 24px;
    height: 24px;
    stroke: var(--text);
  }

  /* Mobile Menu Styles */
  #mobileMenu {
    position: fixed;
    top: var(--header-h);
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 1400;
    background: var(--bg);
    opacity: 0;
    pointer-events: none;
    transition: opacity 280ms ease, transform 280ms ease;
    padding: 20px var(--pad);
    overflow-y: auto;
    transform: translateY(-10px);
  }
  #mobileMenu.open {
    opacity: 1;
    pointer-events: auto;
    transform: translateY(0);
  }
  #mobileMenu .nav-link {
    display: block;
    font-size: 18px;
    font-weight: 700;
    padding: 12px 0;
    margin-bottom: 4px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.04);
  }
  #mobileMenu .nav-link::after {
    display: none; /* Hide hover underline */
  }
  #mobileMenu .nav-link.active {
      color: rgba(var(--accent-gold),1);
  }

  /* USER DROPDOWN MENU */
  .user-menu-wrap { position: relative; display: inline-block; }
  .user-icon-btn { 
    background: transparent; border: none; color: var(--text); cursor: pointer; padding: 8px;
    transition: transform 0.2s ease, color 0.2s ease;
  }
  .user-icon-btn:hover { color: rgba(var(--accent-gold), 1); transform: scale(1.1); }
  
  .dropdown-menu {
    position: absolute; top: 120%; right: 0; width: 220px;
    background: var(--panel); border: 1px solid rgba(255,255,255,0.08);
    border-radius: 8px; padding: 12px; margin-top: 8px;
    box-shadow: 0 15px 50px rgba(0,0,0,0.6);
    opacity: 0; transform: translateY(-10px); pointer-events: none;
    transition: opacity 0.2s ease, transform 0.2s ease;
    z-index: 2000;
  }
  .dropdown-menu.show { opacity: 1; transform: translateY(0); pointer-events: auto; }
  
  .dropdown-header {
      padding-bottom: 10px; margin-bottom: 8px; border-bottom: 1px solid rgba(255,255,255,0.06);
      text-align: left;
  }
  .dd-name { font-weight: 700; font-size: 1rem; color: #fff; display: block; align-items:center; }
  .dd-batch { font-size: 0.8rem; color: var(--muted); display: block; margin-top: 2px; }
  
  .dropdown-item {
    display: block; padding: 8px 10px; font-size: 14px; color: var(--muted);
    transition: background 0.15s ease, color 0.15s ease; text-align:left; width: 100%; border-radius:4px;
  }
  .dropdown-item:hover { background: rgba(255,255,255,0.04); color: var(--text); }
  .dropdown-item.highlight { color: rgba(var(--accent-gold), 1); }

  /* BADGES (Ported from account.html) */
  .u-badge {
    font-size: 0.6rem; font-weight: 800; padding: 1px 5px; border-radius: 3px; letter-spacing: 0.5px; text-transform: uppercase;
    display: inline-block; margin-top: 4px;
  }
  .u-badge.architect { color: #000; background: rgba(var(--accent-gold), 1); }
  .u-badge.verified { color: rgba(var(--accent-gold), 1); background: rgba(var(--accent-gold), 0.15); border: 1px solid rgba(var(--accent-gold), 0.3); }


  /* Media Queries for Mobile Layout */
  @media (max-width: 800px) {
    .nav-left, .nav-right {
      display: none; /* Hide desktop nav links */
    }
    
    .header-grid {
      /* [Logo] [Hamburger] ... [Account] */
      display: flex;
      align-items: center;
      /* No justify-content:space-between; handled by margin-auto on right group */
    }
    
    .brand-center {
      order: 1; /* Logo First */
      flex-direction: row;
      gap: 12px;
      margin-right: 12px;
    }
    .brand-title {
      display: none; /* Hide title to save space */
    }
    .brand-logo {
      width: 52px;
      height: 52px;
    }
    
    .menu-toggle {
      display: block; /* Show hamburger */
      order: 2; /* Second */
      margin-right: 0;
    }
    
    /* Move User Icon to far right */
    .right-group {
        display: flex;
        order: 3;
        margin-left: auto; /* Pushes it to the right */
        justify-content: flex-end;
    }
    /* Specifically show the user-wrap inside right-group even if nav-right is hidden */
    .user-menu-wrap {
        display: block;
    }

    header {
      height: 68px; /* Smaller header */
      padding-left: 12px;
      padding-right: 12px;
    }
    .hero-inner {
      margin-top: calc(68px + 12px); /* Adjust hero content position */
    }
    :root {
      --header-h: 68px; /* Update variable */
    }
  }

  /* ===========================
     HERO + rest
     =========================== */
  .hero{ position:relative; min-height:92vh; display:flex; align-items:center; justify-content:center; padding:0; margin:0; overflow:visible; z-index:20; }
  .hero-media{
    position:absolute; inset:0;
    /* user-specified banner */
    background-image: url('banner.jpg');
    background-size:cover; background-position:center center;
    filter:grayscale(20%) contrast(96%) brightness(42%);
    z-index:0; transition:transform 700ms ease, opacity 300ms ease;
    -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,1) var(--hero-mask-stop,100%), rgba(0,0,0,0) 100%);
    mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,1) var(--hero-mask-stop,100%), rgba(0,0,0,0) 100%);
    will-change:transform, mask-image;
  }
  /* gold mist along hero melt line */
  .hero-media::after{
    content:""; position:absolute; left:0; right:0; bottom:0; height:14%; pointer-events:none;
    background: linear-gradient(180deg, rgba(var(--accent-gold), calc(var(--gold-opacity) * 0.9)), rgba(0,0,0,0)); mask-image: linear-gradient(to bottom, rgba(0,0,0,1), rgba(0,0,0,0));
    opacity:0.9;
  }

  .hero-overlay{ position:absolute; inset:0; background: linear-gradient(180deg, rgba(4,6,8,0.12), rgba(4,6,8,0.46)); z-index:1 }

  .hero-inner{ position:relative; z-index:2; text-align:center; max-width:1100px; padding:36px 18px; margin-top:calc(var(--header-h) * 0.14) }
  
  /* UPDATED HERO TITLE STYLE FOR ROTATOR */
  .hero-title{ 
    margin:0; font-size:3rem; font-weight:900; color:var(--text); letter-spacing:-0.6px; line-height:1.1; text-shadow:0 12px 34px rgba(0,0,0,0.6);
    transition: opacity 800ms cubic-bezier(.2,.9,.2,1), transform 800ms cubic-bezier(.2,.9,.2,1);
    opacity: 1; transform: translateY(0);
  }
  .hero-title.fade-out { opacity: 0; transform: translateY(10px); }

  /* Utility for longer taglines to fit on screen */
  .long-tagline { font-size: 0.75em; display: inline-block; width: 100%; }

  /* Gradient Text Utility Classes */
  .grad-text {
    background-clip: text; -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    display: inline-block;
  }
  .grad-gold {
    background-image: linear-gradient(135deg, rgb(var(--accent-gold)), #fff8c4);
  }
  .grad-red {
    /* Slightly brighter version of accent-deep for text visibility on dark bg */
    background-image: linear-gradient(135deg, #ff4d4d, #a81206);
  }
  .grad-modern {
    background-image: linear-gradient(135deg, #22d3ee, #3b82f6); /* Cyan to Blue Modern */
  }

  @media (max-width:520px){ .hero-title{ font-size:2.2rem } }
  .hero-sub{ color:var(--muted); margin-top:12px; font-size:1.02rem; max-width:820px; margin-left:auto;margin-right:auto }

  /* Hero Social Icons */
  .hero-socials{ margin-top:20px; display:flex; gap:18px; justify-content:center; }
  .social-icon-link{ display:inline-flex; width:30px; height:30px; transition:transform 160ms ease; }
  .social-icon-link:hover{ transform:scale(1.15) }
  .social-icon-link svg{ stroke:var(--text); width:100%; height:100%; }

  .hero-ctas{ display:flex; gap:12px; justify-content:center; margin-top:20px; flex-wrap:wrap; }
  .btn{ display:inline-flex; align-items:center; justify-content:center; min-height:44px; padding:10px 14px; border-radius:6px; border:1px solid transparent; font-weight:800; font-size:14px; transition: background 160ms, transform 160ms, color 160ms; }
  .btn--primary{ background: var(--accent-muted); color:var(--text); border-color: rgba(113,12,4,0.08) }
  .btn--primary:hover{ background: linear-gradient(0deg, rgba(113,12,4,0.28), rgba(113,12,4,0.28)); color:#fff; transform: translateY(-3px) }
  .btn--ghost{ background:transparent; color:var(--text); border:1px solid rgba(255,255,255,0.04) }
  .btn--ghost:hover{ background: rgba(255,255,255,0.02); transform: translateY(-2px) }

  .magnetic{ position:relative; overflow:visible; display:inline-block } .btn-inner{ display:inline-block; transform:translate3d(0,0,0); transition:transform 260ms cubic-bezier(.2,.9,.2,1) }

  .wrap{ max-width:var(--max-w); margin:0 auto; padding:28px var(--pad) 80px; position:relative; }
  section{ padding:56px 0; scroll-margin-top: calc(var(--header-h) + 8px) }
  h2.section-title{ font-size:1.6rem; margin:0 0 12px 0; font-weight:800; color:var(--text); display:flex; align-items:center; gap:12px; }
  p.lead{ color:var(--muted); margin:0 0 12px 0 }
  
  /* Gold text for hero title part */
  .accent-title-part{ color:rgba(var(--accent-gold),1); }

  /* gold vertical rule to the left of section titles */
  h2.section-title::before{
    content:"";
    display:inline-block;
    width:4px;
    height:26px;
    background: rgba(var(--accent-gold), var(--gold-opacity));
    border-radius:2px;
    transform: translateY(0);
    box-shadow: 0 6px 18px rgba(0,0,0,0.28);
  }

  .card{ background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008)); padding:18px; border-radius:8px; border:1px solid rgba(255,255,255,0.02); box-shadow:0 10px 30px rgba(0,0,0,0.55) }
  .muted{ color:var(--muted) }

  .grid{ display:grid; gap:18px; grid-template-columns:repeat(3,1fr) }
  @media (max-width:1100px){ .grid{ grid-template-columns:repeat(2,1fr) } }
  @media (max-width:700px){ .grid{ grid-template-columns:1fr } }

  .grid .card { transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease; will-change: transform; }
  .grid .card:hover { transform: translateY(-4px); box-shadow: 0 14px 40px rgba(0,0,0,0.6); border-color: rgba(255,255,255,0.08); }

  .about-grid{
    display:grid;
    grid-template-columns: 0.8fr 1.2fr;
    gap: 24px;
    align-items: center; 
  }
  .about-image-wrap{
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid rgba(255,255,255,0.02);
    box-shadow: 0 10px 30px rgba(0,0,0,0.55);
  }
  .about-image-wrap img{ width:100%; height:auto; object-fit:cover; }
  @media (max-width: 900px){ .about-grid{ grid-template-columns: 1fr; gap: 20px; } }

  .collapsible-content-wrap{
    height: 220px; /* Initial height limit */
    overflow: hidden;
    position: relative;
    transition: height 500ms ease-in-out;
  }
  .collapsible-content { padding-bottom: 20px; }
  .collapsible-content-wrap.expanded{ height: auto; }
  .collapsible-content-wrap::after{
    content: ""; position: absolute; bottom: 0; left: 0; right: 0; height: 60px; pointer-events: none;
    background: linear-gradient(0deg, var(--bg) 0%, rgba(8,9,10,0) 100%);
    opacity: 1; transition: opacity 500ms ease-in-out;
  }
  .collapsible-content-wrap.expanded::after{ opacity: 0; }
  
  .rankings-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-top: 12px; }
  @media (max-width: 900px) { .rankings-grid { grid-template-columns: 1fr; } }
  .rank-card {
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
    border: 1px solid rgba(255,255,255,0.04); border-radius: 8px;
    padding: 24px 14px; text-align: center;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }
  .rank-card:hover { transform: translateY(-4px); box-shadow: 0 14px 40px rgba(0,0,0,0.6); }
  
  .rank-number-wrap { font-family: var(--font-sans); font-weight: 900; font-size: 3.5rem; line-height: 1; color: rgba(var(--accent-gold), 1); display: flex; align-items: center; gap: 2px; text-shadow: 0 10px 30px rgba(0,0,0,0.5); }
  .rank-prefix { font-size: 1.8rem; opacity: 0.6; margin-top: 6px; vertical-align: top; }
  .rank-label { font-size: 1.1rem; font-weight: 700; margin-top: 12px; color: var(--text); }
  .rank-sub { font-size: 0.9rem; color: var(--muted); margin-top: 4px; }
  .rank-score { font-size: 0.95rem; color: rgba(var(--accent-gold), 0.9); font-weight: 600; margin-top: 4px; }
  .topper-card { border-color: rgba(var(--accent-gold), 0.3); background: linear-gradient(180deg, rgba(var(--accent-gold), 0.05), rgba(0,0,0,0)); }
  
  /* --- MAILERLITE FORM OVERRIDES --- */
  .ml-embedded, .ml-embedded .ml-form-embedWrapper, .ml-embedded .ml-form-embedBody, .ml-embedded .ml-form-embedContent, .ml-form-align-center {
      background-color: transparent !important; background: transparent !important; padding: 0 !important; box-shadow: none !important; border: none !important; text-align: left !important; margin-left: 0 !important; max-width: 100% !important;
  }
  .ml-form-embedWrapper.embedForm { max-width: 100% !important; width: 100% !important; }
  .ml-form-embedBody .ml-form-embedContent h4, .ml-form-embedBody .ml-form-embedContent p { display: none !important; }
  .ml-embedded input.form-control, .ml-embedded select.form-control {
      background-color: transparent !important; background-image: none !important; border: 1px solid rgba(255,255,255,0.08) !important; border-radius: 6px !important; color: var(--text) !important; padding: 12px !important; height: auto !important; font-family: var(--font-sans) !important; font-size: 15px !important; width: 100% !important; margin-bottom: 0 !important;
  }
  .ml-embedded input.form-control:focus, .ml-embedded select.form-control:focus {
      border-color: rgba(var(--accent-gold), 1) !important; outline: none !important; box-shadow: 0 0 0 1px rgba(var(--accent-gold), 0.7) !important;
  }
  .ml-embedded input.form-control::placeholder { color: var(--muted) !important; opacity: 0.7; }
  .ml-embedded select option { background-color: #0d0e10 !important; color: var(--text) !important; }
  .ml-embedded .ml-button-horizontal { width: 100% !important; }
  .ml-embedded button.primary {
      background: var(--accent-muted) !important; color: var(--text) !important; border: 1px solid rgba(113,12,4,0.08) !important; font-weight: 800 !important; font-size: 14px !important; border-radius: 6px !important; padding: 12px !important; cursor: pointer !important; width: 100% !important; font-family: var(--font-sans) !important; transition: all 0.2s ease !important; text-transform: none !important; box-shadow: none !important;
  }
  .ml-embedded button.primary:hover {
      background: linear-gradient(0deg, rgba(113,12,4,0.28), rgba(113,12,4,0.28)) !important; transform: translateY(-3px) !important; color: #fff !important; box-shadow: 0 10px 30px rgba(0,0,0,0.3) !important;
  }
  .ml-form-successBody .ml-form-successContent h4, .ml-form-successBody .ml-form-successContent p { display: block !important; color: rgba(var(--accent-gold), 1) !important; font-family: var(--font-sans) !important; text-align: center !important; }
  .ml-field-group { margin-bottom: 12px !important; text-align: left !important; }
  
  .card input:focus, .card select:focus, .card textarea:focus {
    border-color: rgba(var(--accent-gold), 0.7); box-shadow: 0 0 0 1px rgba(var(--accent-gold), 0.7); outline: none;
  }

  .media-grid{ display:grid; gap:12px; grid-template-columns:repeat(3,1fr) }
  @media (max-width:900px){ .media-grid{ grid-template-columns:repeat(2,1fr) } }
  @media (max-width:460px){ .media-grid{ grid-template-columns:1fr } }

  .gallery-item{ border-radius:6px; overflow:hidden; transition:transform 260ms, box-shadow 260ms; border:1px solid rgba(255,255,255,0.02) }
  .gallery-item img{ width:100%; height:auto; display:block; filter:grayscale(12%); transition:transform 700ms, filter 700ms }
  .gallery-item:hover{ transform: translateY(-6px); box-shadow:0 24px 48px rgba(0,0,0,0.6) }
  .gallery-item:hover img{ transform:scale(1.03); filter:grayscale(0%) }

  .news-layout-grid{ display:grid; grid-template-columns: 1.8fr 0.8fr; gap: 20px; }
  .news-main-story img{ width:100%; height:auto; border-radius:6px; margin-bottom:12px; border:1px solid rgba(255,255,255,0.03); }
  .news-sidebar-box{ background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008)); border: 1px solid rgba(255,255,255,0.02); border-radius: 6px; padding: 14px; height: 100%; }
  @media (max-width: 800px){ .news-layout-grid{ grid-template-columns: 1fr; gap: 20px; } }

  .alumni-grid{ display:grid; gap:12px; grid-template-columns: repeat(3,1fr) }
  @media (max-width:1100px){ .alumni-grid{ grid-template-columns:repeat(2,1fr) } }
  @media (max-width:700px){ .alumni-grid{ grid-template-columns:1fr } }

  .socials-above-footer{
    max-width:var(--max-w); margin:0 auto; padding:0 var(--pad) 20px; display:flex; gap:24px; justify-content:center; border-top:1px solid rgba(255,255,255,0.03); padding-top:20px;
  }

  footer{ padding:36px 20px; color:var(--muted); text-align:center }

  .reveal{ opacity:0; transform: translateY(18px) scale(.995); transition: opacity 520ms cubic-bezier(.2,.9,.2,1), transform 520ms cubic-bezier(.2,.9,.2,1) }
  .reveal.is-visible{ opacity:1; transform:translateY(0) scale(1) }

  @media (max-width:560px){ .brand-logo{ width:52px; height:52px } .header-grid{ gap:8px } header{ padding:6px 12px } }

  .product-card::after, .video-card::after {
    content:""; display:block; height:4px; width:60%; margin-top:12px; background: rgba(var(--accent-gold), var(--gold-opacity)); border-radius:3px; transform-origin:center; opacity:1; margin-left:auto; margin-right:auto;
  }

</style>
</head>
<body>

<!-- ==========================================
     LAUNCH INTRO OVERLAY (START)
     ========================================== -->
<div id="intro-overlay">
  <!-- Dynamic Background -->
  <div class="intro-bg">
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>
  </div>

  <!-- Slides Container -->
  <div class="intro-slides-container">
    
    <!-- Slide 1: Welcome -->
    <div class="intro-slide active" data-index="0">
      <div class="intro-content">
        <h1 class="intro-title">Welcome to <span class="grad-text grad-gold">NGHSIANS</span></h1>
        <h2 class="intro-subtitle">Nasirabadian's Connecting HUB</h2>
        <p class="intro-desc">Representing Nasirabad Government High School within the most trusted community.</p>
        <div class="intro-actions">
          <button class="btn btn--primary intro-next-btn">Explore <svg style="width:16px;margin-left:8px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg></button>
        </div>
      </div>
    </div>

    <!-- Slide 2: Information -->
    <div class="intro-slide" data-index="1">
      <div class="intro-content">
        <div class="intro-icon"><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="rgba(var(--accent-gold),1)" stroke-width="1.5"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg></div>
        <h2 class="intro-subtitle">Stay Informed</h2>
        <p class="intro-desc">No more confusion. Access official <strong>News</strong>, verified <strong>Rankings</strong>, and celebrate our Toppers in real-time.</p>
        <div class="intro-actions">
           <button class="btn btn--ghost intro-skip-btn">Skip</button>
           <button class="btn btn--primary intro-next-btn">Next</button>
        </div>
      </div>
    </div>

    <!-- Slide 3: Newsletter (New) -->
    <div class="intro-slide" data-index="2">
      <div class="intro-content">
        <div class="intro-icon"><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#22d3ee" stroke-width="1.5"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></div>
        <h2 class="intro-subtitle">Join the Inner Circle</h2>
        <p class="intro-desc">Get monthly throwbacks, upcoming meetups, and urgent announcements delivered straight to your inbox via our <strong>Newsletter</strong>.</p>
        <div class="intro-actions">
           <button class="btn btn--ghost intro-skip-btn">Skip</button>
           <button class="btn btn--primary intro-next-btn">Next</button>
        </div>
      </div>
    </div>

    <!-- Slide 4: Alumni -->
    <div class="intro-slide" data-index="3">
      <div class="intro-content">
        <div class="intro-icon"><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="1.5"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg></div>
        <h2 class="intro-subtitle">Global Network</h2>
        <p class="intro-desc">Connecting ex students across. Our upcoming <strong>Alumni Database</strong> will help you find batchmates, mentors, and friends.</p>
        <div class="intro-actions">
           <button class="btn btn--ghost intro-skip-btn">Skip</button>
           <button class="btn btn--primary intro-next-btn">Next</button>
        </div>
      </div>
    </div>

    <!-- Slide 5: Sign Day (New) -->
    <div class="intro-slide" data-index="4">
      <div class="intro-content">
        <div class="intro-icon"><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="rgba(var(--accent-gold),1)" stroke-width="1.5"><path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path></svg></div>
        <h2 class="intro-subtitle">Mark Your Legacy</h2>
        <p class="intro-desc">Tradition meets technology. The <strong>Sign Day Database</strong> preserves the signature moves and memories of every graduating batch.</p>
        <div class="intro-actions">
           <button class="btn btn--ghost intro-skip-btn">Skip</button>
           <button class="btn btn--primary intro-next-btn">Next</button>
        </div>
      </div>
    </div>

    <!-- Slide 6: Final -->
    <div class="intro-slide" data-index="5">
      <div class="intro-content">
        <h1 class="intro-title" style="font-size:2rem">You Are Ready.</h1>
        <p class="intro-desc">Join the bond that never breaks.</p>
        <div class="intro-actions">
          <span class="magnetic" data-magnetic>
            <button class="btn btn--primary intro-finish-btn" style="padding: 16px 32px; font-size:1.1rem;">Enter NGHSIANS</button>
          </span>
        </div>
      </div>
    </div>

  </div>

  <!-- Indicators -->
  <div class="intro-indicators">
    <div class="dot active"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div>
  </div>
</div>

<style>
/* INTRO STYLES */
#intro-overlay {
  position: fixed; inset: 0; z-index: 9999;
  background: #050505; color: #fff;
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  overflow: hidden;
  transition: opacity 0.8s cubic-bezier(0.22, 1, 0.36, 1), visibility 0.8s;
}
#intro-overlay.dismissed { opacity: 0; visibility: hidden; pointer-events: none; }

/* Animated Background Orbs */
.intro-bg { position: absolute; inset: 0; z-index: 0; pointer-events: none; overflow: hidden; }
.orb { position: absolute; border-radius: 50%; filter: blur(80px); opacity: 0.4; animation: floatOrb 20s infinite alternate ease-in-out; }
.orb-1 { width: 400px; height: 400px; background: radial-gradient(circle, rgba(var(--accent-gold),0.3), transparent); top: -10%; left: -10%; }
.orb-2 { width: 500px; height: 500px; background: radial-gradient(circle, rgba(113,12,4,0.3), transparent); bottom: -10%; right: -20%; animation-delay: -5s; }

@keyframes floatOrb { 0% { transform: translate(0,0); } 100% { transform: translate(50px, 80px); } }

.intro-slides-container { position: relative; width: 100%; max-width: 600px; height: 400px; z-index: 2; perspective: 1000px; }

.intro-slide {
  position: absolute; inset: 0; 
  display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;
  padding: 20px;
  opacity: 0; transform: translateY(20px) scale(0.95); filter: blur(10px);
  transition: all 0.6s cubic-bezier(0.2, 0.8, 0.2, 1);
  pointer-events: none;
}
.intro-slide.active { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); pointer-events: auto; }
.intro-slide.exit { opacity: 0; transform: translateY(-20px) scale(1.05); filter: blur(10px); }

.intro-icon { margin-bottom: 20px; animation: floatIcon 3s ease-in-out infinite; }
@keyframes floatIcon { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-10px)} }

.intro-title { font-size: 2.5rem; font-weight: 900; margin: 0 0 10px; line-height: 1.1; letter-spacing: -1px; }
.intro-subtitle { font-size: 1.4rem; font-weight: 700; color: #eef0f2; margin: 0 0 16px; }
.intro-desc { font-size: 1rem; color: #9aa0a6; line-height: 1.6; max-width: 450px; margin: 0 auto 30px; }

.intro-actions { display: flex; gap: 12px; justify-content: center; margin-top: auto; }

.intro-indicators { position: absolute; bottom: 40px; display: flex; gap: 8px; z-index: 2; }
.intro-indicators .dot { width: 8px; height: 8px; border-radius: 50%; background: rgba(255,255,255,0.2); transition: all 0.3s; }
.intro-indicators .dot.active { background: rgba(var(--accent-gold),1); width: 24px; border-radius: 4px; }
</style>

<script>
(function(){
  const overlay = document.getElementById('intro-overlay');
  if(!overlay) return;
  
  const slides = Array.from(document.querySelectorAll('.intro-slide'));
  const dots = Array.from(document.querySelectorAll('.intro-indicators .dot'));
  let current = 0;

  function updateSlide(index) {
    slides.forEach(s => {
      s.classList.remove('active', 'exit');
      const sIndex = parseInt(s.dataset.index);
      if(sIndex < index) s.classList.add('exit'); // Previous slides exit up
    });
    
    slides[index].classList.add('active');
    
    dots.forEach((d, i) => {
      d.classList.toggle('active', i === index);
    });
    current = index;
  }

  // Next Buttons
  document.querySelectorAll('.intro-next-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      if(current < slides.length - 1) updateSlide(current + 1);
    });
  });

  // Skip / Finish
  function finishIntro() {
    overlay.classList.add('dismissed');
    // Optional: trigger the page-wipe reveal logic if it hasn't happened yet
    // but the CSS opacity transition handles the visual reveal smoothly.
    setTimeout(() => { overlay.remove(); }, 1000); // Remove from DOM after fade
  }

  document.querySelectorAll('.intro-finish-btn, .intro-skip-btn').forEach(btn => {
    btn.addEventListener('click', finishIntro);
  });

})();
</script>
<!-- ==========================================
     LAUNCH INTRO OVERLAY (END)
     ========================================== -->

  <div id="pageWipe" class="page-wipe" aria-hidden="true">
    <div class="wipe-layer"></div>
    <div class="pulse-wrap" aria-hidden="true">
      <div class="pulse-img" aria-hidden="true">
        <img src="logo.png" alt="NGHSIANS logo (pulse)" onerror="this.style.display='none'">
      </div>
    </div>
  </div>

  <header id="siteHeader" class="">
    <div class="header-grid" role="navigation" aria-label="Main header">
      
      <button class="menu-toggle" id="menuToggle" aria-label="Toggle navigation menu" aria-expanded="false">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
      </button>

      <div class="nav-left" id="navLeft">
        <a class="nav-link" href="#about" data-target="about">About</a>
        <a class="nav-link" href="#news" data-target="news">News</a>
        <a class="nav-link" href="#rankings" data-target="rankings">Rankings</a>
        <a class="nav-link" href="#gallery" data-target="gallery">Gallery</a>
      </div>

      <div class="brand-center" id="brandBtn" aria-label="Home (brand)">
        <div class="brand-logo" id="brandLogo"><img src="logo.png" alt="NGHSIANS logo" onerror="this.style.display='none'"></div>
        <div class="brand-title">NGHSIANS</div>
      </div>

      <div class="right-group">
        <div class="nav-right" id="navRight">
          <a class="nav-link" href="#newsletter" data-target="newsletter">Newsletter</a>
          <a class="nav-link" href="#submit" data-target="submit">Share</a>
          <a class="nav-link" href="#alumni" data-target="alumni">Alumni</a>
          <a class="nav-link" href="#contact" data-target="contact">Contact</a>
          <a class="nav-link" href="merch.html" data-external="true">Merch</a>
          <a class="nav-link" href="sign.html" data-external="true">Sign Day</a>
        </div>
        
        <div class="user-menu-wrap" style="display:none;">
          <button id="userBtn" class="user-icon-btn" aria-label="User Account">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
          </button>
          <div id="userDropdown" class="dropdown-menu">
             <div id="dd-content-guest">
                 <div class="dropdown-header">
                    <span class="dd-name">Guest</span>
                 </div>
                 <a href="account.html" class="dropdown-item highlight">Login / Sign Up</a>
             </div>
             <div id="dd-content-user" style="display:none;">
                 <div class="dropdown-header">
                    <span id="dd-username" class="dd-name">Student</span>
                    <span id="dd-batch" class="dd-batch">Batch ---</span>
                    <div id="dd-badges"></div>
                 </div>
                 <a href="account.html" class="dropdown-item">My Account</a>
                 <button onclick="handleLogout()" class="dropdown-item" style="border:none;background:none;cursor:pointer;width:100%;text-align:left">Sign Out</button>
             </div>
          </div>
        </div>
      </div>
      
    </div>
  </header>

  <div id="mobileMenu" aria-hidden="true">
    <nav id="mobileNavList" role="navigation" aria-label="Mobile navigation"></nav>
  </div>

  <main>
    <section id="home" class="hero" aria-label="Home hero">
      <div class="hero-media" id="heroMedia" aria-hidden="true"></div> <div class="hero-overlay" aria-hidden="true"></div>

      <div class="hero-inner reveal is-visible" style="transition-delay:60ms">
        <h1 class="hero-title" id="dynamicHeroTitle">
          <!-- Text injected by JS -->
          Once an <span class="grad-text grad-gold">NGHSIAN</span> — Always an <span class="grad-text grad-gold">NGHSIAN</span>
        </h1>
        <p class="hero-sub">A timeless bond connecting students, memories, and legacy of Nasirabad Government High School.</p>

        <div class="hero-socials">
          <a href="https://instagram.com/nghsians" target="_blank" class="social-icon-link" aria-label="Instagram">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>
          </a>
          <a href="https://facebook.com/NasirabadBoys" target="_blank" class="social-icon-link" aria-label="Facebook">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
          </a>
          <a href="https://youtube.com/@nghsians" target="_blank" class="social-icon-link" aria-label="YouTube">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4s-6.88 0-8.6.42a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .5 5.33 2.78 2.78 0 0 0 1.94 2C5.12 20 12 20s6.88 0 8.6-.42a2.78 2.78 0 0 0 1.94-2A29 29 0 0 0 23 11.75a29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15 15.5 11.75 9.75 8.5 9.75 15"></polygon></svg>
          </a>
        </div>

        <div class="hero-ctas" style="margin-top:20px">
          <span class="magnetic" data-magnetic>
            <button class="btn btn--primary" data-target="newsletter"><span class="btn-inner">Join Newsletter</span></button>
          </span>
        </div>
      </div>
    </section>

    <div class="wrap">

      <section id="about" class="reveal diag-feather">
        <div class="card">
          <div class="about-grid">
            <div class="about-image-wrap reveal">
              <img src="about.png" alt="About NGHSIANS">
            </div>
            <div class="about-content-wrap">
              <h2 class="section-title">About Nasirabad Government High School</h2>
              <p class="lead muted">NGHSIANS celebrates nostalgia, school spirit and the stories of Nasirabad Government High School students — both current and alumni.</p>

              <div class="grid" style="margin-top:14px; grid-template-columns: 1fr;">
                <div class="card reveal"><strong>Founded</strong><div class="muted" style="margin-top:8px">January 1, 1967</div></div>
              </div>

              <div id="collapsibleContent" class="collapsible-content-wrap" style="margin-top: 14px;">
                <div class="collapsible-content">
                  <p class="muted">Welcome to <strong>Nasirabad Government High School (NGHS)</strong> — one of the oldest and most respected government secondary schools in Chattogram (Chittagong). Established on <strong>January 1, 1967</strong>, the school is a pillar of academic excellence in the region. Its native name is <strong>নসিরাবাদ গভঃটি. হাই স্কুল, চিটাগাং</strong>, and it operates as a double-shift boys’ high school under the Chittagong Education Board with the <strong>EIIN 104691</strong>.</p>
                  <p class="muted">Located in East Nasirabad (CDA Avenue), NGHS sits on a large urban campus (reported around <strong>20 acres</strong>) equipped with a broad mix of facilities: well-furnished science laboratories (physics, chemistry, biology, computer), a library, an auditorium, and dedicated hostels. Our dedicated faculty members, with an average age of <strong>51</strong>, bring a wealth of experience to the classroom, focusing on discipline, holistic development, and excellent academic results (SSC/JSC).</p>
                  <p class="muted">Sport is central to our identity. NGHS has a long tradition of excellence — particularly in football, cricket, and hockey — claiming national championships and producing players who have represented the country. Beyond sports, our students and alumni are active in cultural, debating, and chess events (such as the 2025 Rapid Rating Chess Championship), fostering a vibrant and engaged community.</p>
                  <p class="muted">For inquiries, the school can be reached at <strong>01819627823</strong> or via email at <a href="mailto:nasirabadghs@yahoo.com">nasirabadghs@yahoo.com</a>. Visit us to experience a memorable learning environment where every student's potential is nurtured.</p>

                  <h4 style="margin-top:20px; margin-bottom:12px; font-weight:700; color:var(--text); border-top:1px solid rgba(255,255,255,0.03); padding-top:18px;">Key Statistics</h4>

                  <div class="grid" style="margin-top: 14px;">
                    <div class="card reveal">
                      <div style="display:flex; align-items:center; gap:8px;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="rgba(var(--accent-gold), 0.7)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                        <strong>STUDENTS</strong>
                      </div>
                      <div class="muted" style="margin-top:6px">2038 TOTAL</div>
                    </div>
                    <div class="card reveal">
                      <div style="display:flex; align-items:center; gap:8px;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="rgba(var(--accent-gold), 0.7)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="12" y1="3" x2="12" y2="21"></line><line x1="3" y1="12" x2="21" y2="12"></line></svg>
                        <strong>TOTAL LAND</strong>
                      </div>
                      <div class="muted" style="margin-top:6px">446 Decimals</div>
                    </div>
                    <div class="card reveal">
                      <div style="display:flex; align-items:center; gap:8px;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="rgba(var(--accent-gold), 0.7)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22V8a2 2 0 0 0-2-2l-4 3V2c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2z"></path><path d="M19 13l-4 3V6l4 3V13z"></path></svg>
                        <strong>PLAYGROUND</strong>
                      </div>
                      <div class="muted" style="margin-top:6px">95 Decimals</div>
                    </div>
                    <div class="card reveal">
                      <div style="display:flex; align-items:center; gap:8px;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="rgba(var(--accent-gold), 0.7)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 9v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9"></path><path d="M10 6h4V3h-4V6z"></path><line x1="10" y1="13" x2="10" y2="17"></line><line x1="14" y1="13" x2="14" y2="17"></line></svg>
                        <strong>HOSTELS</strong>
                      </div>
                      <div class="muted" style="margin-top:6px">17 Decimals</div>
                    </div>
                    <div class="card reveal">
                      <div style="display:flex; align-items:center; gap:8px;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="rgba(var(--accent-gold), 0.7)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="3" width="7" height="18" rx="2" ry="2"></rect><rect x="16" y="3" width="7" height="18" rx="2" ry="2"></rect><line x1="8" y1="9" x2="16" y2="9"></line><line x1="8" y1="15" x2="16" y2="15"></line></svg>
                        <strong>FLOOR SPACE</strong>
                      </div>
                      <div class="muted" style="margin-top:6px">75,000 Sq. Ft.</div>
                    </div>
                    <div class="card reveal">
                      <div style="display:flex; align-items:center; gap:8px;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="rgba(var(--accent-gold), 0.7)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg>
                        <strong>ROOM COUNT</strong>
                      </div>
                      <div class="muted" style="margin-top:6px">40</div>
                    </div>
                    <div class="card reveal">
                      <div style="display:flex; align-items:center; gap:8px;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="rgba(var(--accent-gold), 0.7)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="18" y1="10" x2="18" y2="16"></line><line x1="15" y1="13" x2="21" y2="13"></line></svg>
                        <strong>STUDENT:TEACHER</strong>
                      </div>
                      <div class="muted" style="margin-top:6px">39:1</div>
                    </div>
                    <div class="card reveal">
                      <div style="display:flex; align-items:center; gap:8px;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="rgba(var(--accent-gold), 0.7)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 8v4l3 3"></path></svg>
                        <strong>STUDENT:EMPLOYEE</strong>
                      </div>
                      <div class="muted" style="margin-top:6px">391:1</div>
                    </div>
                    <div class="card reveal">
                      <div style="display:flex; align-items:center; gap:8px;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="rgba(var(--accent-gold), 0.7)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M22 12h-4"></path><path d="M22 17h-4"></path><path d="M22 6h-4"></path></svg>
                        <strong>AVG. TEACHER AGE</strong>
                      </div>
                      <div class="muted" style="margin-top:6px">51 Years</div>
                    </div>
                  </div>
                </div>
              </div>

              <div style="text-align:center; margin-top: 14px;">
                <span class="magnetic" data-magnetic>
                  <button class="btn btn--ghost see-more-btn" id="seeMoreBtn" aria-expanded="false" aria-controls="collapsibleContent">
                    <span class="btn-inner">See Less</span>
                  </button>
                </span>
              </div>
              </div>
          </div>
        </div>
      </section>
      
      <section id="rankings" class="reveal diag-feather" style="margin-top:18px">
        <h2 class="section-title">Rankings & Achievements</h2>
        <div class="card">
            <div class="rankings-grid">
                <div class="rank-card reveal">
                    <div class="rank-number-wrap"><span class="rank-prefix">#</span><span class="counter" data-target="35" data-start="99">99</span></div>
                    <div class="rank-label">National School Ranking</div>
                </div>
                <div class="rank-card reveal">
                    <div class="rank-number-wrap"><span class="rank-prefix">#</span><span class="counter" data-target="4" data-start="30">30</span></div>
                    <div class="rank-label">Chattogram School Ranking</div>
                </div>
                <div class="rank-card topper-card reveal">
                    <div class="rank-number-wrap"><span class="rank-prefix">#</span><span class="counter" data-target="1" data-start="15">15</span></div>
                    <div class="rank-label" style="font-size:1.25rem">Nibir Karmakar</div>
                    <div class="rank-sub">SSC 2025 Topper (Whole Bangladesh)</div>
                    <div class="rank-score">1285/1300 Marks</div>
                </div>
            </div>
        </div>
      </section>

      <section id="gallery" class="reveal diag-feather" style="margin-top:18px;">
        <h2 class="section-title">Gallery</h2>
        <div class="card">
          <p class="muted">Click any image to preview larger.</p>

          <div class="media-grid" style="margin-top:14px">
            <div class="gallery-item reveal" onclick="openModal(this)"><img src="gal1.JPG" alt="Memory 1"></div>
            <div class="gallery-item reveal" onclick="openModal(this)"><img src="gal2.JPG" alt="Memory 2"></div>
            <div class="gallery-item reveal" onclick="openModal(this)"><img src="gal3.JPG" alt="Memory 3"></div>
            <div class="gallery-item reveal" onclick="openModal(this)"><img src="gal4.jpg" alt="Memory 4"></div>
            <div class="gallery-item reveal" onclick="openModal(this)"><img src="gal5.JPG" alt="Memory 5"></div>
            <div class="gallery-item reveal" onclick="openModal(this)"><img src="gal6.JPG" alt="Memory 6"></div>
          </div>
        </div>
      </section>
      <section id="news" class="reveal diag-feather" style="margin-top:18px">
        <h2 class="section-title">News & Events</h2>
        <div class="card">
          <div class="news-layout-grid" style="margin-top:12px">
            <div class="news-main-story reveal">
              <img src="launchnews.jpg" alt="NGHSIANS Website Launch">
              <div style="font-size:1.05rem;font-weight:600;line-height:1.4;margin-top:8px;">
                NGHSIANS and নাসিরাবাদিয়ানস্ launched a stunning first website for the community.
              </div>
              <div class="muted" style="font-size:13px;margin-top:6px;">Posted: 5 Dec 2025</div>
            </div>
            
            <div class="news-sidebar reveal">
              <div class="news-sidebar-box">
                <strong style="font-size:1.1rem;">NNN: No New News</strong>
                <div class="muted" style="margin-top:8px;font-size:14px;">Check back later for more updates, event info, and spotlights.</div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <section id="newsletter" class="reveal diag-feather" style="margin-top:18px">
        <h2 class="section-title">Newsletter</h2>
        <div class="card">
          <p class="muted">Monthly throwbacks, meetups, and urgent announcements.</p>
          
          <div style="margin-top:12px;" class="ml-embedded" data-form="Q1EYDP"></div>
          </div>
      </section>
      <section id="submit" class="reveal" style="margin-top:18px">
        <h2 class="section-title">Share Your Memory</h2>
        <div class="card">
          <p class="lead muted" style="text-align:center;font-size:1.1rem;padding:20px;">
              <strong style="color:var(--text)">Coming Soon.</strong> We're setting up the storage for your precious memories!
          </p>
          <form onsubmit="submitMemory(event)" style="display:none;margin-top:12px;gap:10px">
            <input required id="batch" type="text" placeholder="Your batch/year (e.g., 2012)" style="padding:12px;border-radius:6px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--text)">
            <input required id="contact_email" type="email" placeholder="Your email (for confirmation)" style="padding:12px;border-radius:6px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--text)">
            <textarea required id="story" placeholder="Tell the story..." style="padding:12px;border-radius:6px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--text)"></textarea>
            <div style="display:flex;gap:10px">
              <span class="magnetic" data-magnetic><button class="btn btn--primary" type="submit"><span class="btn-inner">Send Memory</span></button></span>
              <button class="btn btn--ghost" type="reset">Reset</button>
            </div>
            <div id="send-response" class="muted" style="margin-top:8px"></div>
          </form>
        </div>
      </section>
      <section id="alumni" class="reveal" style="margin-top:18px">
        <h2 class="section-title">Alumni & Students</h2>
        <div class="card">
          <p class="lead muted" style="text-align:center;font-size:1.1rem;padding:20px;">
              <strong style="color:var(--text)">Coming Soon.</strong> We are curating the initial alumni database.
          </p>
          
          <div style="text-align:center; margin-top:20px;">
            <a href="https://docs.google.com/forms/d/e/1FAIpQLSchoxpQAGx30muyfju3mYC19qqelsW2DnM1d1tgEkUfrdeedQ/viewform?usp=dialog" target="_blank" style="text-decoration:none;">
                <span class="magnetic" data-magnetic>
                    <button class="btn btn--primary"><span class="btn-inner">Request for Alumni Interface</span></button>
                </span>
            </a>
          </div>
          
          <div class="alumni-grid" style="display:none;margin-top:12px">
            <div class="card reveal"><strong>Alumnus — Name</strong><div class="muted" style="margin-top:6px">Short bio & achievements.</div></div>
            <div class="card reveal"><strong>Student of the Month</strong><div class="muted" style="margin-top:6px">Recognized for achievements.</div></div>
            <div class="card reveal"><strong>Batch Feature</strong><div class="muted" style="margin-top:6px">Stories & interviews.</div></div>
          </div>
        </div>
      </section>
      <section id="contact" class="reveal" style="margin-top:18px">
        <h2 class="section-title">Contact & Collaborate</h2>
        <div class="card">
          <p class="lead muted" style="font-size:1.1rem;line-height:1.6;text-align:center;">
            Email <a href="mailto:nghsians@gmail.com" style="color:rgba(var(--accent-gold),1);font-weight:600;">nghsians@gmail.com</a> or DM <a href="https://instagram.com/nghsians" target="_blank" style="color:rgba(var(--accent-gold),1);font-weight:600;">@nghsians Instagram</a> or <a href="https://facebook.com/NasirabadBoys" target="_blank" style="color:rgba(var(--accent-gold),1);font-weight:600;">নাসিরাবাদিয়ানস্ Facebook</a>.
          </p>
          <form onsubmit="contactUs(event)" style="display:none;margin-top:12px;gap:10px">
            <input required id="cname" type="text" placeholder="Name" style="padding:12px;border-radius:6px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--text)">
            <input required id="cemail" type="email" placeholder="Email" style="padding:12px;border-radius:6px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--text)">
            <input id="subject" type="text" placeholder="Subject" style="padding:12px;border-radius:6px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--text)">
            <textarea id="cmessage" placeholder="Message" style="padding:12px;border-radius:6px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--text)"></textarea>
            <div style="display:flex;gap:10px">
              <span class="magnetic" data-magnetic><button class="btn btn--primary" type="submit"><span class="btn-inner">Send Message</span></button></span>
              <button class="btn btn--ghost" type="reset">Reset</button>
            </div>
            <div id="contact-response" class="muted" style="margin-top:8px"></div>
          </form>
        </div>
      </section>
      <section id="extras" class="reveal" style="margin-top:18px">
        <h2 class="section-title">Extras</h2>
        <div class="card">
          <p class="muted">Campus landmarks and location.</p>
          <div style="display:flex;gap:12px;margin-top:12px;flex-wrap:wrap">
            <div class="card" style="min-width:100%;padding:0;">
              <strong>School Map</strong>
              <div class="muted" style="margin-top:6px">Find Nasirabad Government High School.</div>
              <video autoplay loop muted playsinline webkit-playsinline style="width:100%; height:auto; min-height:200px; border-radius:6px; margin-top:14px; display:block; pointer-events:none; background:#0d0e10;">
                  <source src="MapNghs.mp4" type="video/mp4">
              </video>
            </div>
          </div>
        </div>
      </section>
      </div> </main>

  <div class="socials-above-footer">
    <a href="https://instagram.com/nghsians" target="_blank" class="social-icon-link" aria-label="Instagram">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>
    </a>
    <a href="https://facebook.com/NasirabadBoys" target="_blank" class="social-icon-link" aria-label="Facebook">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
    </a>
    <a href="https://youtube.com/@nghsians" target="_blank" class="social-icon-link" aria-label="YouTube">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4s-6.88 0-8.6.42a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .5 5.33 2.78 2.78 0 0 0 1.94 2C5.12 20 12 20s6.88 0 8.6-.42a2.78 2.78 0 0 0 1.94-2A29 29 0 0 0 23 11.75a29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15 15.5 11.75 9.75 8.5 9.75 15"></polygon></svg>
    </a>
  </div>
  <footer>
    <div style="max-width:var(--max-w);margin:0 auto;padding:18px var(--pad) 60px;text-align:center;color:var(--muted);font-size:14px">
      © NGHSIANS — Nasirabad Government High School • Built with ♥
      <div style="margin-top:6px;color:var(--text);font-weight:600;">In developing by Umair Hoque Chowdhury</div>
    </div>
  </footer>

  <div id="modal" style="display:none;position:fixed;inset:0;z-index:3000;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(2,2,2,0.7), rgba(2,2,2,0.9));">
    <div style="max-width:1100px;width:94%;background:var(--panel);padding:12px;border-radius:8px;">
      <button style="background:transparent;border:none;color:var(--text);font-size:18px;float:right" onclick="closeModal()">✕</button>
      <img id="modal-img" src="" alt="" style="width:100%;height:auto;border-radius:6px;display:block" />
    </div>
  </div>

<script>
(function(){
  /* ===============
     CONFIG & AUTH LOGIC
     =============== */
  const SUPABASE_URL = 'https://mctjlcznxpuvtetqnaeh.supabase.co';
  const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1jdGpsY3pueHB1dnRldHFuYWVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM0OTQzMjQsImV4cCI6MjA3OTA3MDMyNH0.-gVaWU8XHnKIuURzgjpyBZgXNiqLEMC87SfvKMLZ4eg';
  const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
  
  // Auth Check on Load
  async function initAuth() {
    const { data: { session } } = await supabase.auth.getSession();
    const guestView = document.getElementById('dd-content-guest');
    const userView = document.getElementById('dd-content-user');

    if (session) {
      // Logged In
      guestView.style.display = 'none';
      userView.style.display = 'block';
      
      // Fetch Profile Details
      const { data: profile } = await supabase.from('verified_profiles').select('*').eq('id', session.user.id).single();
      if(profile) {
          const nameEl = document.getElementById('dd-username');
          let nameHtml = (profile.username || 'Student');

          // Add checkmark if verified
          if (profile.role === 'elite' || profile.role === 'architect') {
             nameHtml += `<svg style="width:14px;height:14px;color:rgba(var(--accent-gold), 1);margin-left:4px;vertical-align:middle;display:inline-block;" viewBox="0 0 24 24" fill="currentColor"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>`;
          }
          nameEl.innerHTML = nameHtml;

          document.getElementById('dd-batch').textContent = 'Batch: ' + (profile.batch_year || '---');
          
          // Render Badges
          const badgesDiv = document.getElementById('dd-badges');
          badgesDiv.innerHTML = '';
          if (profile.role === 'architect') {
              badgesDiv.innerHTML += `<span class="u-badge architect" style="margin-right:4px;">ARCHITECT</span>`;
          }
          if (profile.role === 'elite' || profile.role === 'architect') {
              badgesDiv.innerHTML += `<span class="u-badge verified">VERIFIED</span>`;
          }
      }
    } else {
      // Guest
      guestView.style.display = 'block';
      userView.style.display = 'none';
    }
  }
  
  // Run immediately
  initAuth();
  
  window.handleLogout = async () => {
      await supabase.auth.signOut();
      window.location.reload();
  };

  /* ===============
     CACHE ELEMENTS
     =============== */
  const header = document.getElementById('siteHeader');
  const navLinks = Array.from(document.querySelectorAll('.nav-link'));
  const brandBtn = document.getElementById('brandBtn');
  const pageWipe = document.getElementById('pageWipe');
  const heroMedia = document.getElementById('heroMedia');
  const heroSection = document.getElementById('home');
  // ADDED: Mobile elements
  const menuToggle = document.getElementById('menuToggle');
  const mobileMenu = document.getElementById('mobileMenu');
  const navLeftLinks = Array.from(document.getElementById('navLeft').children);
  const navRightLinks = Array.from(document.getElementById('navRight').children);
  const allDesktopLinks = [...navLeftLinks, ...navRightLinks];

  /* ===========================
     Page wipe helper
     =========================== */
  function showWipe(cb){
    if(!pageWipe){ if(cb) cb(); return; }
    pageWipe.classList.add('show');
    setTimeout(()=>{ pageWipe.classList.remove('show'); if(cb) cb(); }, 980);
  }

  window.addEventListener('load', ()=> {
    setTimeout(()=> showWipe(()=>{}), 160);
  });

  /* ===========================
     Mobile Menu Setup
     =========================== */
  function buildMobileMenu(){
    const mobileNavList = document.getElementById('mobileNavList');
    mobileNavList.innerHTML = '';
    allDesktopLinks.forEach(link => {
      const clone = link.cloneNode(true);
      clone.addEventListener('click', () => {
        if(clone.getAttribute('href').startsWith('#')) {
            setTimeout(toggleMobileMenu, 600);
        } else {
            toggleMobileMenu();
        }
      });
      mobileNavList.appendChild(clone);
    });
  }
  buildMobileMenu();

  function toggleMobileMenu(){
    const isOpen = mobileMenu.classList.toggle('open');
    menuToggle.setAttribute('aria-expanded', isOpen);
    mobileMenu.setAttribute('aria-hidden', !isOpen);
    document.body.style.overflow = isOpen ? 'hidden' : '';
  }

  menuToggle.addEventListener('click', toggleMobileMenu);

  /* ===========================
     Smooth anchor navigation
     =========================== */
  function smoothTo(id){
    const target = document.getElementById(id);
    if(!target) return;
    showWipe(()=> {
      target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      history.replaceState(null, '', '#' + id);
      setTimeout(()=> {
        const heading = target.querySelector('h1,h2,h3');
        if(heading){ heading.setAttribute('tabindex','-1'); heading.focus(); }
      }, 520);
    });
  }

  document.querySelectorAll('[data-target]').forEach(el=>{
    el.addEventListener('click', function(e){
      const id = this.dataset.target;
      if(!id) return;
      e.preventDefault();
      smoothTo(id);
    });
  });

  document.querySelectorAll('a[href^="#"]').forEach(a=>{
    a.addEventListener('click', function(e){
      const href = this.getAttribute('href') || '';
      if(!href.startsWith('#')) return;
      e.preventDefault();
      const id = href.slice(1);
      smoothTo(id);
    });
  });

  /* ===========================
     Header Scroll Effect
     =========================== */
  if(heroSection){
    const heroObserver = new IntersectionObserver(entries => {
      entries.forEach(en => { if(en.isIntersecting) header.classList.remove('scrolled'); else header.classList.add('scrolled'); });
    }, { threshold: 0.02 });
    heroObserver.observe(heroSection);
  }

  /* ===========================
     Reveal observer
     =========================== */
  const reveals = Array.from(document.querySelectorAll('.reveal'));
  const revealObserver = new IntersectionObserver((entries) => {
    entries.forEach((entry) => { if(entry.isIntersecting) entry.target.classList.add('is-visible'); });
  }, { root: null, rootMargin: '0px 0px -10% 0px', threshold: 0.05 });
  reveals.forEach(r => revealObserver.observe(r));

  /* ===========================
     Active nav highlighting
     =========================== */
  const sectionObserver = new IntersectionObserver((entries) => {
    entries.forEach(en => {
      if(en.isIntersecting && en.target.id){
        const id = en.target.id;
        navLinks.forEach(n => n.classList.toggle('active', (n.dataset.target || (n.getAttribute('href')||'').replace('#','')) === id));
        document.querySelectorAll('#mobileMenu .nav-link').forEach(n => {
            const linkId = (n.dataset.target || (n.getAttribute('href')||'').replace('#',''));
            n.classList.toggle('active', linkId === id);
        });
      }
    });
  }, { root: null, rootMargin: '-40% 0px -40% 0px', threshold: 0 });
  document.querySelectorAll('section[id]').forEach(s => sectionObserver.observe(s));

  /* ===========================
     Magnetic micro-interaction
     =========================== */
  const magneticRoots = Array.from(document.querySelectorAll('[data-magnetic]'));
  magneticRoots.forEach(root => {
    const inner = root.querySelector('.btn-inner') || root.firstElementChild;
    if(!inner) return;
    const maxX = 10, maxY = 6;
    root.addEventListener('pointermove', (ev)=>{
      const rect = root.getBoundingClientRect();
      const relX = (ev.clientX - rect.left) - rect.width/2;
      const relY = (ev.clientY - rect.top) - rect.height/2;
      const tx = (relX / rect.width) * maxX;
      const ty = (relY / rect.height) * maxY;
      inner.style.transform = `translate3d(${tx}px, ${ty}px, 0) scale(1.01)`;
    });
    root.addEventListener('pointerleave', ()=> inner.style.transform = 'translate3d(0,0,0) scale(1)');
  });

  /* ===========================
     Gallery modal
     =========================== */
  window.openModal = function(el){
    const img = el.querySelector('img'); if(!img) return;
    const modal = document.getElementById('modal'); const modalImg = document.getElementById('modal-img');
    modalImg.src = img.src; modal.style.display = 'flex'; modal.style.opacity = 1;
  };
  window.closeModal = function(){ const modal = document.getElementById('modal'); modal.style.opacity = 0; setTimeout(()=> modal.style.display = 'none', 180); };
  document.getElementById('modal').addEventListener('click', function(e){ if(e.target.id === 'modal') closeModal(); });
  
  /* ===========================
     Number Counter Animation
     =========================== */
  const counters = document.querySelectorAll('.counter');
  const counterObserver = new IntersectionObserver((entries, observer) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const counter = entry.target;
        const target = +counter.getAttribute('data-target');
        const start = +counter.getAttribute('data-start');
        const duration = 1500;
        const startTime = performance.now();
        
        function update(currentTime) {
          const elapsed = currentTime - startTime;
          const progress = Math.min(elapsed / duration, 1);
          const ease = 1 - Math.pow(1 - progress, 3);
          const currentVal = Math.floor(start - ((start - target) * ease));
          counter.innerText = currentVal;
          if (progress < 1) requestAnimationFrame(update); else counter.innerText = target;
        }
        requestAnimationFrame(update);
        observer.unobserve(counter);
      }
    });
  }, { threshold: 0.5 });
  counters.forEach(c => counterObserver.observe(c));

  window.submitMemory = function(e){ e.preventDefault(); document.getElementById('send-response').textContent = `Feature Coming Soon.`; e.target.reset(); };
  window.contactUs = function(e){ e.preventDefault(); document.getElementById('contact-response').textContent = `Please use the listed email or social media handles for now.`; e.target.reset(); };

  /* ===========================
     HERO MELT (mask) EFFECT
     =========================== */
  (function heroMask(){
    if(!heroSection || !heroMedia) return;
    const docElem = document.documentElement;
    const clamp = (v,a,b) => Math.max(a, Math.min(b, v));
    function updateMask(){
      const rect = heroSection.getBoundingClientRect();
      const viewH = window.innerHeight || docElem.clientHeight;
      const heroBottom = rect.bottom;
      const heroHeight = Math.max(rect.height, viewH * 0.4);
      let progress = clamp(heroBottom / (heroHeight + viewH * 0.05), 0, 1);
      const maskPct = Math.round((progress * 100));
      heroMedia.style.setProperty('--hero-mask-stop', maskPct + '%');
      heroMedia.style.opacity = 0.45 + (progress * 0.55);
    }
    window.addEventListener('scroll', updateMask, { passive: true });
    window.addEventListener('resize', updateMask);
    window.addEventListener('load', updateMask);
    updateMask();
  })();

  /* ===========================
     Collapsible Content
     =========================== */
  (function collapsibleContent(){
    const wrap = document.getElementById('collapsibleContent');
    const content = wrap ? wrap.querySelector('.collapsible-content') : null;
    const btn = document.getElementById('seeMoreBtn');
    if(!wrap || !content || !btn) return;
    let isExpanded = false; let fullHeight = 0;

    function calculateHeight() {
      wrap.style.height = 'auto'; wrap.style.removeProperty('overflow'); fullHeight = content.offsetHeight;
      if (fullHeight <= 220) { btn.style.display = 'none'; wrap.style.removeProperty('height'); wrap.classList.remove('collapsible-content-wrap'); return; } 
      else { btn.style.display = 'inline-flex'; }
      wrap.style.height = '220px'; wrap.style.overflow = 'hidden';
      if(isExpanded) wrap.style.height = `${fullHeight}px`;
    }

    function toggleExpansion(e) {
      e.preventDefault(); isExpanded = !isExpanded;
      if (isExpanded) { wrap.style.height = `${fullHeight}px`; wrap.classList.add('expanded'); btn.querySelector('.btn-inner').textContent = 'See Less'; btn.setAttribute('aria-expanded', 'true'); } 
      else {
        wrap.style.height = `${fullHeight}px`; 
        setTimeout(()=> { wrap.style.height = '220px'; wrap.classList.remove('expanded'); btn.querySelector('.btn-inner').textContent = 'See More'; btn.setAttribute('aria-expanded', 'false'); }, 10);
        const aboutSection = document.getElementById('about');
        if (wrap.getBoundingClientRect().top < 0) aboutSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    }
    document.addEventListener('DOMContentLoaded', calculateHeight);
    window.addEventListener('resize', calculateHeight);
    btn.addEventListener('click', toggleExpansion);
    btn.querySelector('.btn-inner').textContent = 'See More'; 
  })();
  
  /* ===========================
     Accessibility / keyboard
     =========================== */
  window.addEventListener('keydown', (ev)=>{ if(ev.key === 'Escape'){ closeModal(); toggleMobileMenu(); } });

  brandBtn && brandBtn.addEventListener('click', (e)=>{ e.preventDefault(); showWipe(()=> { document.getElementById('home').scrollIntoView({behavior:'smooth'}); history.replaceState(null,'','#home'); }); });

  /* ===========================
     User Dropdown Toggle
     =========================== */
  const userBtn = document.getElementById('userBtn');
  const userDropdown = document.getElementById('userDropdown');
  
  if(userBtn && userDropdown) {
    userBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      userDropdown.classList.toggle('show');
    });
    document.addEventListener('click', (e) => {
      if (!userDropdown.contains(e.target) && !userBtn.contains(e.target)) {
        userDropdown.classList.remove('show');
      }
    });
  }

  /* ===========================
     HERO TEXT ROTATOR
     =========================== */
  (function initHeroRotator(){
    const titleEl = document.getElementById('dynamicHeroTitle');
    if(!titleEl) return;

    // Defined taglines with HTML for gradients
    // Added 'long-tagline' span to the 3rd one to shrink it so it fits
    const taglines = [
      `Once an <span class="grad-text grad-gold">NGHSIAN</span> — Always an <span class="grad-text grad-gold">NGHSIAN</span>`,
      `Once in <span class="grad-text grad-red">Dreams</span>, Now in <span class="grad-text grad-red">Memories</span>`,
      `<span class="long-tagline">Once a <span class="grad-text grad-modern">NASIRABADIAN</span> — Always a <span class="grad-text grad-modern">NASIRABADIAN</span></span>`
    ];

    // Pick random start index
    let currentIndex = Math.floor(Math.random() * taglines.length);

    // Function to set text
    function setText() {
      titleEl.innerHTML = taglines[currentIndex];
    }

    // Initialize immediately
    setText();

    // Rotate every 10 seconds
    setInterval(() => {
      // 1. Fade out
      titleEl.classList.add('fade-out');

      // 2. Wait for transition (800ms matches CSS) then swap & fade in
      setTimeout(() => {
        currentIndex = (currentIndex + 1) % taglines.length;
        setText();
        titleEl.classList.remove('fade-out');
      }, 800);

    }, 10000); 

  })();

})();
</script>
</body>
</html>