<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>NGHSIANS — Nasirabad Government High School</title>
<meta name="description" content="NGHSIANS — community site (dark editorial minimal UI). Place logo.png and banner.jpg in same folder." />

<!-- Font -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">

<style>
  /* ===========================
     THEME VARIABLES — EDIT HERE
     =========================== */
  :root{
    --bg: #08090a;
    --panel: #0d0e10;
    --text: #eef0f2;
    --muted: #9aa0a6;
    --accent-deep: #710C04;    /* primary red */
    --accent-gold: 255,243,154; /* muted gold RGB for opacity usage */
    --gold-opacity: 0.7;       /* global gold opacity (70%) per latest request */
    --accent-muted: rgba(113,12,4,0.22); /* increased index button fill opacity only */
    --max-w: 1200px;
    --pad: 20px;
    --header-h: 86px;
    --font-sans: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;

    /* page-wipe timing */
    --wipe-duration: 1000ms;
    --wipe-ease: cubic-bezier(.22,.9,.2,1);
  }

  /* ===========================
     RESET + BASE
     =========================== */
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font-family:var(--font-sans);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
  img{max-width:100%;height:auto;display:block}
  a{color:inherit;text-decoration:none}
  button{font-family:inherit;cursor:pointer}

  /* ===========================
     Subtle grain texture (global)
     - kept globally but hidden over .hero (per request)
     =========================== */
  body::before{
    content:"";
    position:fixed;
    inset:0;
    pointer-events:none;
    z-index:1; /* moved behind content so hero can mask it */
    background-image:
      url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120'><filter id='n'><feTurbulence baseFrequency='0.9' numOctaves='2' stitchTiles='stitch' seed='2'/><feColorMatrix type='saturate' values='0'/><feComponentTransfer><feFuncA type='table' tableValues='0 0.055'/></feComponentTransfer></filter><rect width='100%' height='100%' filter='url(%23n)' opacity='0.08' /></svg>");
    opacity:0.08;
    mix-blend-mode:overlay;
  }
  /* reapply grain on main content only (so hero appears clean) */
  .wrap::before, main > .wrap::before{
    content:"";
    position:absolute;
    inset:0;
    pointer-events:none;
    z-index:2;
    background-image:
      url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120'><filter id='n'><feTurbulence baseFrequency='0.9' numOctaves='2' stitchTiles='stitch' seed='2'/><feColorMatrix type='saturate' values='0'/><feComponentTransfer><feFuncA type='table' tableValues='0 0.055'/></feComponentTransfer></filter><rect width='100%' height='100%' filter='url(%23n)' opacity='0.08' /></svg>");
    opacity:0.08;
    mix-blend-mode:overlay;
    border-radius:0;
  }

  /* ===========================
     PAGE WIPE (cinematic dark wipe + logo pulse)
     =========================== */
  .page-wipe{
    position:fixed;inset:0;z-index:6000;display:flex;align-items:center;justify-content:center;
    pointer-events:none;opacity:0;transition:opacity 220ms linear;background:var(--bg);
  }
  .page-wipe.show{ opacity:1; pointer-events:auto }
  .page-wipe .pulse-wrap{
    width:160px; height:160px; display:flex; align-items:center; justify-content:center;
    transform:scale(.82); opacity:0; transition: transform var(--wipe-duration) var(--wipe-ease), opacity calc(var(--wipe-duration) * 0.6) var(--wipe-ease);
  }
  .page-wipe.show .pulse-wrap{ transform:scale(1); opacity:1 }
  .page-wipe .pulse-img{
    width:72px; height:72px; border-radius:50%; overflow:hidden; display:block; box-shadow:0 18px 60px rgba(0,0,0,0.6);
    background:transparent; /* transparent so logo.png shows */
  }
  .pulse-img img{ width:100%; height:100%; object-fit:contain; display:block }

  .page-wipe .wipe-layer{
    position:absolute;inset:0;background:linear-gradient(180deg, rgba(8,8,9,0.98), rgba(2,2,2,0.98));
    opacity:0; transition: opacity calc(var(--wipe-duration) * 0.9) var(--wipe-ease);
  }
  .page-wipe.show .wipe-layer{ opacity:1 }

  /* ===========================
     HEADER: center logo, nav left & right
     =========================== */
  header{ position:fixed; inset-inline:0; top:0; height:var(--header-h); display:flex; align-items:center; justify-content:center; padding:8px calc(var(--pad)+4px); z-index:1500; transition:background 160ms ease, box-shadow 160ms ease; background:transparent; }
  header.scrolled{ background: linear-gradient(180deg, rgba(8,8,9,0.92), rgba(6,6,7,0.95)); box-shadow: 0 10px 30px rgba(0,0,0,0.6) }

  .header-grid{ width:100%; max-width:var(--max-w); margin:0 auto; display:grid; grid-template-columns: 1fr auto 1fr; align-items:center; gap:12px; }
  .nav-left, .nav-right{ display:flex; gap:18px; align-items:center; }
  .nav-left{ justify-content:flex-start } .nav-right{ justify-content:flex-end }

  .nav-link{ position:relative; color:var(--text); font-weight:600; font-size:14px; padding:6px 6px; white-space:nowrap; transition: color 140ms }
  .nav-link::after{ content:""; position:absolute; left:6px; right:6px; bottom:-6px; height:2px; background:var(--accent-deep); transform:scaleX(0); transform-origin:left center; transition:transform 140ms cubic-bezier(.2,.9,.2,1); opacity:.95 }
  .nav-link:hover::after, .nav-link.active::after{ transform:scaleX(1) }

  .brand-center{ display:flex; flex-direction:column; align-items:center; gap:6px; cursor:pointer; }
  .brand-logo{ width:64px; height:64px; border-radius:50%; overflow:hidden; display:inline-flex; align-items:center; justify-content:center; box-shadow:0 10px 30px rgba(0,0,0,0.6); background:transparent }
  .brand-logo img{ width:100%; height:100%; object-fit:contain; display:block }
  .brand-title{ font-weight:800; font-size:14px; letter-spacing:0.6px; color:var(--text); margin-top:4px }

  /* ===========================
     (HAMBURGER REMOVED)
     All hamburger + mobile menu code intentionally deleted per request.
     =========================== */

  /* ===========================
     HERO + rest
     - hero background now points to banner.jpg as requested
     - ensure hero sits above grain (hero clean)
     =========================== */
  .hero{ position:relative; min-height:92vh; display:flex; align-items:center; justify-content:center; padding:0; margin:0; overflow:visible; z-index:20; }
  .hero-media{
    position:absolute; inset:0;
    /* user-specified banner - replace banner.jpg in project folder if you change */
    background-image: url('banner.jpg');
    background-size:cover; background-position:center center;
    filter:grayscale(20%) contrast(96%) brightness(42%);
    z-index:0; transition:transform 700ms ease, opacity 300ms ease;
    -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,1) var(--hero-mask-stop,100%), rgba(0,0,0,0) 100%);
    mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,1) var(--hero-mask-stop,100%), rgba(0,0,0,0) 100%);
    will-change:transform, mask-image;
  }
  /* gold mist along hero melt line (kept) */
  .hero-media::after{
    content:""; position:absolute; left:0; right:0; bottom:0; height:14%; pointer-events:none;
    background: linear-gradient(180deg, rgba(var(--accent-gold), calc(var(--gold-opacity) * 0.9)), rgba(0,0,0,0)); mask-image: linear-gradient(to bottom, rgba(0,0,0,1), rgba(0,0,0,0));
    opacity:0.9;
  }

  .hero-overlay{ position:absolute; inset:0; background: linear-gradient(180deg, rgba(4,6,8,0.12), rgba(4,6,8,0.46)); z-index:1 }

  .hero-inner{ position:relative; z-index:2; text-align:center; max-width:1100px; padding:36px 18px; margin-top:calc(var(--header-h) * 0.14) }
  .hero-title{ margin:0; font-size:3rem; font-weight:900; color:var(--text); letter-spacing:-0.6px; line-height:1; text-shadow:0 12px 34px rgba(0,0,0,0.6) }
  @media (max-width:520px){ .hero-title{ font-size:2.2rem } }
  .hero-sub{ color:var(--muted); margin-top:12px; font-size:1.02rem; max-width:820px; margin-left:auto;margin-right:auto }

  .hero-ctas{ display:flex; gap:12px; justify-content:center; margin-top:20px; flex-wrap:wrap; }
  .btn{ display:inline-flex; align-items:center; justify-content:center; min-height:44px; padding:10px 14px; border-radius:6px; border:1px solid transparent; font-weight:800; font-size:14px; transition: background 160ms, transform 160ms, color 160ms; }
  .btn--primary{ background: var(--accent-muted); color:var(--text); border-color: rgba(113,12,4,0.08) }
  .btn--primary:hover{ background: linear-gradient(0deg, rgba(113,12,4,0.28), rgba(113,12,4,0.28)); color:#fff; transform: translateY(-3px) }
  .btn--ghost{ background:transparent; color:var(--text); border:1px solid rgba(255,255,255,0.04) }
  .btn--ghost:hover{ background: rgba(255,255,255,0.02); transform: translateY(-2px) }

  .magnetic{ position:relative; overflow:visible; display:inline-block } .btn-inner{ display:inline-block; transform:translate3d(0,0,0); transition:transform 260ms cubic-bezier(.2,.9,.2,1) }

  .wrap{ max-width:var(--max-w); margin:0 auto; padding:28px var(--pad) 80px; position:relative; }
  section{ padding:56px 0; scroll-margin-top: calc(var(--header-h) + 8px) }
  h2.section-title{ font-size:1.6rem; margin:0 0 12px 0; font-weight:800; color:var(--text); display:flex; align-items:center; gap:12px; }
  p.lead{ color:var(--muted); margin:0 0 12px 0 }

  /* gold vertical rule to the left of section titles (A style) */
  h2.section-title::before{
    content:"";
    display:inline-block;
    width:4px;
    height:26px;
    background: rgba(var(--accent-gold), var(--gold-opacity));
    border-radius:2px;
    transform: translateY(0);
    box-shadow: 0 6px 18px rgba(0,0,0,0.28);
  }

  .card{ background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008)); padding:18px; border-radius:8px; border:1px solid rgba(255,255,255,0.02); box-shadow:0 10px 30px rgba(0,0,0,0.55) }
  .muted{ color:var(--muted) }

  .grid{ display:grid; gap:18px; grid-template-columns:repeat(3,1fr) }
  @media (max-width:1100px){ .grid{ grid-template-columns:repeat(2,1fr) } }
  @media (max-width:700px){ .grid{ grid-template-columns:1fr } }

  .media-grid{ display:grid; gap:12px; grid-template-columns:repeat(3,1fr) }
  @media (max-width:900px){ .media-grid{ grid-template-columns:repeat(2,1fr) } }
  @media (max-width:460px){ .media-grid{ grid-template-columns:1fr } }

  .gallery-item{ border-radius:6px; overflow:hidden; transition:transform 260ms, box-shadow 260ms; border:1px solid rgba(255,255,255,0.02) }
  .gallery-item img{ width:100%; height:auto; display:block; filter:grayscale(12%); transition:transform 700ms, filter 700ms }
  .gallery-item:hover{ transform: translateY(-6px); box-shadow:0 24px 48px rgba(0,0,0,0.6) }
  .gallery-item:hover img{ transform:scale(1.03); filter:grayscale(0%) }

  .news-grid{ display:grid; gap:12px; grid-template-columns: repeat(2,1fr) }
  @media (max-width:900px){ .news-grid{ grid-template-columns:1fr } }
  .news-item{ padding:14px; border-radius:6px; background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008)); border:1px solid rgba(255,255,255,0.02) }

  .alumni-grid{ display:grid; gap:12px; grid-template-columns: repeat(3,1fr) }
  @media (max-width:1100px){ .alumni-grid{ grid-template-columns:repeat(2,1fr) } }
  @media (max-width:700px){ .alumni-grid{ grid-template-columns:1fr } }

  footer{ padding:36px 20px; color:var(--muted); text-align:center }

  /* reveal animation */
  .reveal{ opacity:0; transform: translateY(18px) scale(.995); transition: opacity 520ms cubic-bezier(.2,.9,.2,1), transform 520ms cubic-bezier(.2,.9,.2,1) }
  .reveal.is-visible{ opacity:1; transform:translateY(0) scale(1) }

  @media (max-width:560px){
    .brand-logo{ width:52px; height:52px } .header-grid{ gap:8px } header{ padding:6px 12px }
  }

  /* removed diagonal pseudo-element — class preserved in markup but no visual divider */
  /* .diag-feather (no pseudo-element) intentionally left empty to preserve markup */

  /* gold baseline under product/video cards (resting baseline under card, not hover)
     thickness preserved exactly as before; only color opacity changed */
  .product-card::after, .video-card::after {
    content:"";
    display:block;
    height:4px;
    width:60%;
    margin-top:12px;
    background: rgba(var(--accent-gold), var(--gold-opacity));
    border-radius:3px;
    transform-origin:center;
    opacity:1;
    margin-left:auto; margin-right:auto;
  }

  /* ===========================
     ABOUT SECTION: new responsive flex layout (40% image / 60% text)
     - Slightly rounded corners on image (8px) as requested (Option B)
     - Image is a reveal item so it loads on scroll (keeps existing reveal behavior)
     =========================== */
  .about-row{ display:flex; gap:28px; align-items:center; justify-content:space-between; margin-top:18px; }
  .about-media{ flex: 0 0 40%; max-width:40%; display:block; }
  .about-media img{ width:100%; height:auto; display:block; border-radius:8px; object-fit:cover; border:1px solid rgba(255,255,255,0.02) }
  .about-content{ flex:1; padding-left:6px; min-width:0; } /* min-width:0 prevents overflowing text in flex children */

  @media (max-width:900px){
    .about-row{ flex-direction:column; gap:14px; }
    .about-media{ max-width:100%; flex-basis:100% }
    .about-content{ padding-left:0 }
  }

</style>
</head>
<body>

  <!-- PAGE WIPE (cinematic) -->
  <div id="pageWipe" class="page-wipe" aria-hidden="true">
    <div class="wipe-layer"></div>
    <div class="pulse-wrap" aria-hidden="true">
      <div class="pulse-img" aria-hidden="true">
        <img src="logo.png" alt="NGHSIANS logo (pulse)" onerror="this.style.display='none'">
      </div>
    </div>
  </div>

  <!-- HEADER: left nav | center brand | right nav -->
  <header id="siteHeader" class="">
    <div class="header-grid" role="navigation" aria-label="Main header">
      <!-- LEFT NAV -->
      <div class="nav-left" id="navLeft">
        <!-- EDIT: add/remove left nav links here -->
        <a class="nav-link" href="#about" data-target="about">About</a>
        <a class="nav-link" href="#gallery" data-target="gallery">Gallery</a>
        <a class="nav-link" href="#news" data-target="news">News</a>
      </div>

      <!-- CENTER BRAND -->
      <div class="brand-center" id="brandBtn" aria-label="Home (brand)">
        <!-- Replace with <img src="..." alt=""> for different logo -->
        <div class="brand-logo" id="brandLogo"><img src="logo.png" alt="NGHSIANS logo" onerror="this.style.display='none'"></div>
        <div class="brand-title">NGHSIANS</div>
      </div>

      <!-- RIGHT NAV -->
      <div class="nav-right" id="navRight">
        <a class="nav-link" href="#newsletter" data-target="newsletter">Newsletter</a>
        <a class="nav-link" href="#submit" data-target="submit">Share</a>
        <a class="nav-link" href="#alumni" data-target="alumni">Alumni</a>
        <a class="nav-link" href="#contact" data-target="contact">Contact</a>
        <a class="nav-link" href="merch.html" data-external="true">Merch</a>
        <a class="nav-link" href="sign.html" data-external="true">Sign Day</a>
      </div>
    </div>
  </header>

  <!-- HERO (top) -->
  <main>
    <section id="home" class="hero" aria-label="Home hero">
      <div class="hero-media" id="heroMedia" aria-hidden="true"></div> <!-- uses banner.jpg -->
      <div class="hero-overlay" aria-hidden="true"></div>

      <div class="hero-inner reveal is-visible" style="transition-delay:60ms">
        <h1 class="hero-title">Once a NGHSIAN — Always a NGHSIAN</h1>
        <p class="hero-sub">A timeless bond connecting students, memories, and legacy of Nasirabad Government High School.</p>

        <div class="hero-ctas" style="margin-top:20px">
          <span class="magnetic" data-magnetic>
            <button class="btn btn--primary" data-target="newsletter"><span class="btn-inner">Join Newsletter</span></button>
          </span>
          <!-- Share Memory button removed per request; Join Newsletter kept -->
        </div>

        <div style="margin-top:12px;color:var(--muted);font-size:12px">Hint: edit the hero image file <code>banner.jpg</code> in the site folder to change the hero picture.</div>
      </div>
    </section>

    <!-- WRAPPER: ALL SECTIONS BELOW (keeps existing content intact) -->
    <div class="wrap">

      <!-- ===== ABOUT SECTION START ===== -->
      <section id="about" class="reveal diag-feather">
        <div class="card">
          <h2 class="section-title">About NGHSIANS</h2>
          <p class="lead muted">NGHSIANS celebrates nostalgia, school spirit and the stories of Nasirabad Government High School students — both current and alumni.</p>

          <!-- New layout: image on left (40%) / content on right (60%) — content text unchanged -->
          <div class="about-row" style="margin-top:14px;">
            <div class="about-media reveal">
              <!-- about.png will be loaded from project root; replace file as needed -->
              <img src="about.png" alt="About NGHSIANS image (left)" />
            </div>

            <div class="about-content">
              <div class="grid">
                <div class="card reveal"><strong>Origin</strong><div class="muted" style="margin-top:8px">Started as an Instagram page to reconnect batches and share archival photos.</div></div>
                <div class="card reveal"><strong>Mission</strong><div class="muted" style="margin-top:8px">Keep memories alive and build an alumni network.</div></div>
                <div class="card reveal"><strong>Reunions</strong><div class="muted" style="margin-top:8px">Sign up for batch meetups and special events.</div></div>
              </div>

              <div class="hint">Hint: copy inner <code>&lt;div class="card"&gt;</code> to add items to the grid.</div>
            </div>
          </div>

        </div>
      </section>
      <!-- ===== ABOUT SECTION END ===== -->

      <!-- ===== GALLERY SECTION START ===== -->
      <section id="gallery" class="reveal diag-feather" style="margin-top:18px;">
        <h2 class="section-title">Gallery</h2>
        <div class="card">
          <p class="muted">Click any image to preview larger.</p>

          <div class="media-grid" style="margin-top:14px">
            <!-- START: gallery item (copy to add more) -->
            <div class="gallery-item reveal" onclick="openModal(this)"><img src="https://picsum.photos/seed/ngh1/900/600" alt="Memory 1"></div>
            <div class="gallery-item reveal" onclick="openModal(this)"><img src="https://picsum.photos/seed/ngh2/900/600" alt="Memory 2"></div>
            <div class="gallery-item reveal" onclick="openModal(this)"><img src="https://picsum.photos/seed/ngh3/900/600" alt="Memory 3"></div>
            <div class="gallery-item reveal" onclick="openModal(this)"><img src="https://picsum.photos/seed/ngh4/900/600" alt="Memory 4"></div>
            <div class="gallery-item reveal" onclick="openModal(this)"><img src="https://picsum.photos/seed/ngh5/900/600" alt="Memory 5"></div>
            <div class="gallery-item reveal" onclick="openModal(this)"><img src="https://picsum.photos/seed/ngh6/900/600" alt="Memory 6"></div>
          </div>

          <div class="hint">Hint: replace <code>src</code> with your images or copy a gallery block to add more.</div>
        </div>
      </section>
      <!-- ===== GALLERY SECTION END ===== -->

      <!-- ===== NEWS SECTION START ===== -->
      <section id="news" class="reveal diag-feather" style="margin-top:18px">
        <h2 class="section-title">News & Events</h2>
        <div class="card">
          <div class="news-grid" style="margin-top:12px">
            <div class="news-item reveal"><strong>Batch 2005 Reunion — Planning</strong><div class="muted" style="margin-top:6px">Organizers finalizing the date — subscribe to be notified.</div></div>
            <div class="news-item reveal"><strong>Student Spotlight</strong><div class="muted" style="margin-top:6px">District science fair winners — congrats!</div></div>
            <div class="news-item reveal"><strong>Alumni Talk Series</strong><div class="muted" style="margin-top:6px">Monthly virtual sessions with alumni guests.</div></div>
            <div class="news-item reveal"><strong>Fundraiser</strong><div class="muted" style="margin-top:6px">Support school facilities — merch & donation options soon.</div></div>
          </div>
          <div class="hint">Hint: copy a <code>&lt;div class="news-item"&gt;</code> block to add news.</div>
        </div>
      </section>
      <!-- ===== NEWS SECTION END ===== -->

      <!-- ===== NEWSLETTER SECTION START ===== -->
      <section id="newsletter" class="reveal diag-feather" style="margin-top:18px">
        <h2 class="section-title">Newsletter</h2>
        <div class="card">
          <p class="muted">Monthly throwbacks, meetups, and urgent announcements.</p>

          <form onsubmit="subscribeNews(event)" style="margin-top:12px;display:flex;gap:10px;flex-wrap:wrap">
            <input required id="email" type="email" placeholder="Email address" style="flex:1;min-width:220px;padding:12px;border-radius:6px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--text)">
            <div style="display:flex;gap:10px">
              <span class="magnetic" data-magnetic><button class="btn btn--primary" type="submit"><span class="btn-inner">Subscribe</span></button></span>
              <span class="magnetic" data-magnetic><button class="btn btn--ghost" type="button" data-target="submit"><span class="btn-inner">Share Memory</span></button></span>
            </div>
          </form>

          <div id="sub-response" class="muted" style="margin-top:10px"></div>
          <div class="hint">Hint: integrate your mailing provider by updating <code>subscribeNews</code> in JS.</div>
        </div>
      </section>
      <!-- ===== NEWSLETTER SECTION END ===== -->

      <!-- ===== SUBMIT SECTION START ===== -->
      <section id="submit" class="reveal" style="margin-top:18px">
        <h2 class="section-title">Share Your Memory</h2>
        <div class="card">
          <p class="muted">Send photos & stories — we will curate and credit you (or post anonymously).</p>

          <form onsubmit="submitMemory(event)" style="margin-top:12px;display:grid;gap:10px">
            <input required id="batch" type="text" placeholder="Your batch/year (e.g., 2012)" style="padding:12px;border-radius:6px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--text)">
            <input required id="contact_email" type="email" placeholder="Your email (for confirmation)" style="padding:12px;border-radius:6px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--text)">
            <textarea required id="story" placeholder="Tell the story..." style="padding:12px;border-radius:6px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--text)"></textarea>
            <!-- NOTE: For file uploads add <input type="file"> and wire backend -->
            <div style="display:flex;gap:10px">
              <span class="magnetic" data-magnetic><button class="btn btn--primary" type="submit"><span class="btn-inner">Send Memory</span></button></span>
              <button class="btn btn--ghost" type="reset">Reset</button>
            </div>
            <div id="send-response" class="muted" style="margin-top:8px"></div>
          </form>

          <div class="hint">Hint: see <code>submitMemory</code> in JS to connect backend.</div>
        </div>
      </section>
      <!-- ===== SUBMIT SECTION END ===== -->

      <!-- ===== ALUMNI SECTION START ===== -->
      <section id="alumni" class="reveal" style="margin-top:18px">
        <h2 class="section-title">Alumni & Students</h2>
        <div class="card">
          <p class="muted">Featured alumni, batch highlights, mentoring opportunities.</p>

          <div class="alumni-grid" style="margin-top:12px">
            <div class="card reveal"><strong>Alumnus — Name</strong><div class="muted" style="margin-top:6px">Short bio & achievements.</div></div>
            <div class="card reveal"><strong>Student of the Month</strong><div class="muted" style="margin-top:6px">Recognized for achievements.</div></div>
            <div class="card reveal"><strong>Batch Feature</strong><div class="muted" style="margin-top:6px">Stories & interviews.</div></div>
          </div>

          <div class="hint">Hint: copy an Alumni card to add more.</div>
        </div>
      </section>
      <!-- ===== ALUMNI SECTION END ===== -->

      <!-- ===== CONTACT SECTION START ===== -->
      <section id="contact" class="reveal" style="margin-top:18px">
        <h2 class="section-title">Contact & Collaborate</h2>
        <div class="card">
          <p class="muted">For collaborations, press, or events — reach out.</p>

          <form onsubmit="contactUs(event)" style="margin-top:12px;display:grid;gap:10px">
            <input required id="cname" type="text" placeholder="Name" style="padding:12px;border-radius:6px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--text)">
            <input required id="cemail" type="email" placeholder="Email" style="padding:12px;border-radius:6px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--text)">
            <input id="subject" type="text" placeholder="Subject" style="padding:12px;border-radius:6px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--text)">
            <textarea id="cmessage" placeholder="Message" style="padding:12px;border-radius:6px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--text)"></textarea>
            <div style="display:flex;gap:10px">
              <span class="magnetic" data-magnetic><button class="btn btn--primary" type="submit"><span class="btn-inner">Send Message</span></button></span>
              <button class="btn btn--ghost" type="reset">Reset</button>
            </div>
            <div id="contact-response" class="muted" style="margin-top:8px"></div>
          </form>

          <div class="hint">Hint: edit <code>contactUs</code> in JS to forward messages to email/Sheets.</div>
        </div>
      </section>
      <!-- ===== CONTACT SECTION END ===== -->

      <!-- ===== EXTRAS SECTION START ===== -->
      <section id="extras" class="reveal" style="margin-top:18px">
        <h2 class="section-title">Extras</h2>
        <div class="card">
          <p class="muted">Memes, maps, and fundraising.</p>
          <div style="display:flex;gap:12px;margin-top:12px;flex-wrap:wrap">
            <!-- NOTE: 'Merch' removed from here per request; merch is now a top-level nav item -->
            <div class="card" style="min-width:160px"><strong>Meme Corner</strong><div class="muted" style="margin-top:6px">Student-era memes & trends.</div></div>
            <div class="card" style="min-width:160px"><strong>School Map</strong><div class="muted" style="margin-top:6px">Campus landmarks & maps.</div></div>
            <div class="card" style="min-width:160px"><strong>Fundraising</strong><div class="muted" style="margin-top:6px">Support & donation info.</div></div>
          </div>
          <div class="hint">Hint: copy Extras blocks to expand offerings.</div>
        </div>
      </section>
      <!-- ===== EXTRAS SECTION END ===== -->

    </div> <!-- /wrap -->
  </main>

  <!-- FOOTER -->
  <footer>
    <div style="max-width:var(--max-w);margin:0 auto;padding:18px var(--pad) 60px;text-align:center;color:var(--muted);font-size:14px">
      © NGHSIANS — Nasirabad Government High School • Built with ♥
    </div>
  </footer>

  <!-- IMAGE MODAL -->
  <div id="modal" style="display:none;position:fixed;inset:0;z-index:3000;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(2,2,2,0.7), rgba(2,2,2,0.9));">
    <div style="max-width:1100px;width:94%;background:var(--panel);padding:12px;border-radius:8px;">
      <button style="background:transparent;border:none;color:var(--text);font-size:18px;float:right" onclick="closeModal()">✕</button>
      <img id="modal-img" src="" alt="" style="width:100%;height:auto;border-radius:6px;display:block" />
    </div>
  </div>

<script>
(function(){
  /* ===============
     CACHE ELEMENTS
     =============== */
  const header = document.getElementById('siteHeader');
  const navLinks = Array.from(document.querySelectorAll('.nav-link'));
  const brandBtn = document.getElementById('brandBtn');
  const pageWipe = document.getElementById('pageWipe');
  const heroMedia = document.getElementById('heroMedia');
  const heroSection = document.getElementById('home');

  /* ===========================
     Page wipe helper (plays on load and nav)
     =========================== */
  function showWipe(cb){
    if(!pageWipe){ if(cb) cb(); return; }
    pageWipe.classList.add('show');
    // keep slightly shorter than CSS variable so content becomes visible after wipe
    setTimeout(()=>{ pageWipe.classList.remove('show'); if(cb) cb(); }, 980);
  }

  // Trigger wipe on first load of index (fix for earlier issue)
  window.addEventListener('load', ()=> {
    // run the cinematic wipe on first load
    setTimeout(()=> showWipe(()=>{}), 160);
  });

  /* ===========================
     Smooth anchor navigation
     =========================== */
  function smoothTo(id){
    const target = document.getElementById(id);
    if(!target) return;
    showWipe(()=> {
      target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      history.replaceState(null, '', '#' + id);
      setTimeout(()=> {
        const heading = target.querySelector('h1,h2,h3');
        if(heading){ heading.setAttribute('tabindex','-1'); heading.focus(); }
      }, 520);
    });
  }

  document.querySelectorAll('[data-target]').forEach(el=>{
    el.addEventListener('click', function(e){
      const id = this.dataset.target;
      if(!id) return;
      e.preventDefault();
      smoothTo(id);
    });
  });

  document.querySelectorAll('a[href^="#"]').forEach(a=>{
    a.addEventListener('click', function(e){
      const href = this.getAttribute('href') || '';
      if(!href.startsWith('#')) return;
      e.preventDefault();
      const id = href.slice(1);
      smoothTo(id);
    });
  });

  /* ===========================
     Header: transparent over hero, solid on scroll
     =========================== */
  if(heroSection){
    const heroObserver = new IntersectionObserver(entries => {
      entries.forEach(en => { if(en.isIntersecting) header.classList.remove('scrolled'); else header.classList.add('scrolled'); });
    }, { threshold: 0.02 });
    heroObserver.observe(heroSection);
  }

  /* ===========================
     Reveal observer
     =========================== */
  const reveals = Array.from(document.querySelectorAll('.reveal'));
  const revealObserver = new IntersectionObserver((entries) => {
    entries.forEach((entry) => { if(entry.isIntersecting) entry.target.classList.add('is-visible'); });
  }, { root: null, rootMargin: '0px 0px -10% 0px', threshold: 0.05 });
  reveals.forEach(r => revealObserver.observe(r));

  /* ===========================
     Active nav highlighting
     =========================== */
  const sectionObserver = new IntersectionObserver((entries) => {
    entries.forEach(en => {
      if(en.isIntersecting && en.target.id){
        const id = en.target.id;
        navLinks.forEach(n => n.classList.toggle('active', (n.dataset.target || (n.getAttribute('href')||'').replace('#','')) === id));
      }
    });
  }, { root: null, rootMargin: '-40% 0px -40% 0px', threshold: 0 });
  document.querySelectorAll('section[id]').forEach(s => sectionObserver.observe(s));

  /* ===========================
     Magnetic micro-interaction
     =========================== */
  const magneticRoots = Array.from(document.querySelectorAll('[data-magnetic]'));
  magneticRoots.forEach(root => {
    const inner = root.querySelector('.btn-inner') || root.firstElementChild;
    if(!inner) return;
    const maxX = 10, maxY = 6;
    root.addEventListener('pointermove', (ev)=>{
      const rect = root.getBoundingClientRect();
      const relX = (ev.clientX - rect.left) - rect.width/2;
      const relY = (ev.clientY - rect.top) - rect.height/2;
      const tx = (relX / rect.width) * maxX;
      const ty = (relY / rect.height) * maxY;
      inner.style.transform = `translate3d(${tx}px, ${ty}px, 0) scale(1.01)`;
    });
    root.addEventListener('pointerleave', ()=> inner.style.transform = 'translate3d(0,0,0) scale(1)');
  });

  /* ===========================
     Gallery modal
     =========================== */
  window.openModal = function(el){
    const img = el.querySelector('img'); if(!img) return;
    const modal = document.getElementById('modal'); const modalImg = document.getElementById('modal-img');
    modalImg.src = img.src; modal.style.display = 'flex'; modal.style.opacity = 1;
  };
  window.closeModal = function(){ const modal = document.getElementById('modal'); modal.style.opacity = 0; setTimeout(()=> modal.style.display = 'none', 180); };
  document.getElementById('modal').addEventListener('click', function(e){ if(e.target.id === 'modal') closeModal(); });

  /* ===========================
     Demo form handlers
     =========================== */
  window.subscribeNews = function(e){ e.preventDefault(); const email = document.getElementById('email') ? document.getElementById('email').value : ''; document.getElementById('sub-response').textContent = `Subscribed (demo): ${email}`; e.target.reset(); };
  window.submitMemory = function(e){ e.preventDefault(); const batch = document.getElementById('batch') ? document.getElementById('batch').value : ''; document.getElementById('send-response').textContent = `Memory received from ${batch} (demo).`; e.target.reset(); };
  window.contactUs = function(e){ e.preventDefault(); const name = document.getElementById('cname') ? document.getElementById('cname').value : ''; document.getElementById('contact-response').textContent = `Thanks ${name} (demo).`; e.target.reset(); };

  /* ===========================
     HERO MELT (mask) EFFECT
     =========================== */
  (function heroMask(){
    if(!heroSection || !heroMedia) return;
    const docElem = document.documentElement;
    const clamp = (v,a,b) => Math.max(a, Math.min(b, v));
    function updateMask(){
      const rect = heroSection.getBoundingClientRect();
      const viewH = window.innerHeight || docElem.clientHeight;
      const heroBottom = rect.bottom;
      const heroHeight = Math.max(rect.height, viewH * 0.4);
      let progress = clamp(heroBottom / (heroHeight + viewH * 0.05), 0, 1);
      const maskPct = Math.round((progress * 100));
      heroMedia.style.setProperty('--hero-mask-stop', maskPct + '%');
      heroMedia.style.opacity = 0.45 + (progress * 0.55);
    }
    window.addEventListener('scroll', updateMask, { passive: true });
    window.addEventListener('resize', updateMask);
    window.addEventListener('load', updateMask);
    updateMask();
  })();

  /* ===========================
     Accessibility / keyboard
     =========================== */
  window.addEventListener('keydown', (ev)=>{ if(ev.key === 'Escape'){ closeModal(); } });

  /* Brand click -> home with wipe */
  brandBtn && brandBtn.addEventListener('click', (e)=>{ e.preventDefault(); showWipe(()=> { document.getElementById('home').scrollIntoView({behavior:'smooth'}); history.replaceState(null,'','#home'); }); });

})();
</script>
</body>
</html>
